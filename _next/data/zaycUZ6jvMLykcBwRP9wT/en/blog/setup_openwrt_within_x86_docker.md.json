{"pageProps":{"post":{"slug":"setup_openwrt_within_x86_docker.md","title":"setup_openwrt_within_x86_docker.md","mdsource":"https://gist.githubusercontent.com/BruceWind/2a7bf1c34b5eac7a5fd7047937af2443/raw/6ff46e8356a7163ee575479013b0a6732a0c181e/setup_openwrt_within_x86_docker.md","date":"2023-10-03T14:03:32Z","category":"Gists"},"content":"Ive looked at https://www.ahsup.top/post/linux/openwrt/ . \nand I established with these commands, which are different from setting on a raspberry pi. \nThis is because my docker host is x86 ABI.\n\n``` shell script\n\nip link set enp1s0 promisc on\n\n\ndocker network prune\ndocker network create -d macvlan --subnet=192.168.50.0/24 --gateway=192.168.50.1 -o parent=enp1s0 macnet\n\n\nsudo docker run --restart always --name openwrt -d --network macnet --privileged  sulinggg/openwrt:x86_64 /sbin/init\n\n\nnano  /etc/config/network\nconfig interface 'lan'\n        option ifname 'eth0'\n        option proto 'static'\n        option netmask '255.255.255.0'\n        option ip6assign '60'\n        option ipaddr '192.168.50.99'\n        option gateway '192.168.50.1'\n        option dns '192.168.50.1'\n\n\n```\n\n\n","lang":"en"},"__N_SSG":true}