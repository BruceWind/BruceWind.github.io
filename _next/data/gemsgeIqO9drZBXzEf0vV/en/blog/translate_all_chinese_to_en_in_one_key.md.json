{"pageProps":{"post":{"slug":"translate_all_chinese_to_en_in_one_key.md","title":"translate_all_Chinese_to_En_in_one_key.md","mdsource":"https://gist.githubusercontent.com/BruceWind/c7c21e5ec608f8bb984771bc52afd246/raw/3c11194382852e71fc357b8dfbaed4067793264c/translate_all_Chinese_to_En_in_one_key.md","date":"2023-01-17T05:35:45Z","category":"Gists"},"content":"One-key shell to convert all Chinese text in a repository to English.\n\nI use it to translation Chinese text in my project. I share this to help so many people's time on translate their project.\n\n\n``` shell script\n# A shell, which is utilised to match all Chinese texts.\n\n########################################################################\n# Usage:\n# Environment requirements:\n# 1. install ag(silver searcher).\n# 2. install translate-shell.\n# ------run---------------\n# 1. chmod +x match_chinese.sh\n# 2. run './match_chinese.sh' in your project folder.\n########################################################################\n\nset -e\n# read all text files which contains Chinese and Unicode characters into a variable\nFileContainingChineseArr=($(ag -c '[^\\x00-\\x7F]'))\necho \"All files below which contains Chinese or Unicode characters:\n\"\nprintf \"'%s'\\n\" \"${FileContainingChineseArr[@]}\"\n#\n# to foreach all files\nfor fileWithLine in ${FileContainingChineseArr[@]}; do\n  # to replace chars after colon(:).\n  file=($(echo $fileWithLine | sed 's/:.*//g'))\n\n  # to match all Chinese texts\n  ChineseTexts=($(cat $file | grep -o -E \"[^u4E00-u9FA5]+\"))\n  echo \"\"\n  echo \"$file has Chinese or Unicode characters below:\n  \"\n  echo \"\n  ----------------------------------------------\"\n  # to foreach all Chinese texts\n  for text in ${ChineseTexts[@]}; do\n    # to replace unexpected chars.\n    text=($(echo $text | tr -d '\\11\\12\\15\\40-\\176'))\n    if ([[ ! -z \"$text\" ]]); then\n      translatedTxt=$(trans -b :en \"$text\")\n      echo \"\\\"$text\\\": \\\"$translatedTxt\\\",\"\n    fi\n  done\ndone\n\n# cat file.txt | grep -E \"[^u4E00-u9FA5]\"\n```","lang":"en"},"__N_SSG":true}