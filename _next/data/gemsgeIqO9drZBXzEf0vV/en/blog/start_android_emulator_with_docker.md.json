{"pageProps":{"post":{"slug":"start_android_emulator_with_docker.md","title":"start_android_emulator_with_docker.md","mdsource":"https://gist.githubusercontent.com/BruceWind/2cb94248ac3f9da26b8093e81dc37e94/raw/94fe97fdadca092256e6ff7660a701a10638a934/start_android_emulator_with_docker.md","date":"2022-02-08T02:26:56Z","category":"Gists"},"content":"1. preparation:\n\n  - a. make sure you have [install docker](https://docs.docker.com/engine/install/), \n\n\n2. run the command:\n``` shell\ndocker run -d \\\n  --network=host \\\n  -e ADBKEY=\"$(cat ~/.android/adbkey)\" \\\n  --device /dev/kvm \\\n  --cpus=\"4\" \\\n  --publish 8554:8554/tcp \\\n  --publish 5555:5555/tcp  \\\n  --name android-emulator-30 \\\n  us-docker.pkg.dev/android-emulator-268719/images/30-google-x64:30.1.2\n  adb connect localhost:5555\n  adb wait-for-device\n```\n\n\n3. and then, enjoy it.\n\n\n### In addition\n - a. How stop and start?\n\n``` shell\ndocker container stop android-emulator-30\ndocker container start android-emulator-30\n```\n - b. how to oversee the device's screen?\n \n as soon as your emulator started,you can use [scrcpy](https://github.com/Genymobile/scrcpy) to oversee it in terminal.\n ```\n scrcpy --max-fps 15\n ```\n \n 4. bugs \n\nIf you encouter problem: `adb: error: stat failed when trying to push to /data/local/tmp/scrcpy-server.jar: Permission denied` or `not a directory`, you can try steps below to fix them.\n\na. run command `adb reboot`\nb. try to run `scrcpy --max-fps 15` when system just started. You may need to run it many times.","lang":"en"},"__N_SSG":true}