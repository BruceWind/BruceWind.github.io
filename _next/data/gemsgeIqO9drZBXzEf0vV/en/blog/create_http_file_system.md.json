{"pageProps":{"post":{"slug":"create_http_file_system.md","title":"create_http_file_system.md","mdsource":"https://gist.githubusercontent.com/BruceWind/4009c4237f12462226598818ba16bf27/raw/998ba91456882e950a4d5af23130910ccce0ea3d/create_http_file_system.md","date":"2021-08-04T06:28:09Z","category":"Gists"},"content":"### portainer\n\n`docker run -d -p 1003:9000 --restart always -v /var/run/docker.sock:/var/run/docker.sock portainer/portainer-ce:latest`\n\n## Smb in docker \n```\nsudo docker run -it --name samba  --net=host \\\n            -v  /media/TOSHIBA/filebrowserdata:/mount \\\n            -d dperson/samba -p -u \"admin;admin\" \\\n            -s \"share;/mount;yes;no;no;all;none\"\n```\nThis command must begin with `sudo`.\n\n\n# filebrowser\nHere is the original software code: [filebrowser](https://github.com/filebrowser/filebrowser).\n\nBut I'd like to use docker to establish that http file system due to the fact that docker would restart its containers.\n\nHttp protocol is compatible with all of platforms.\n\n``` shell script \ndocker pull hurlenko/filebrowser\nsudo mkdir /hls\nsudo chmod 777 -R /hls\ndocker run -d \\\n    --name filebrowser \\\n    --restart always \\\n    --user $(id -u):$(id -g) \\\n    -p 80:8080 \\\n    -v /hls/data:/data \\\n    -e /hls/filebrowser=/filebrowser \\\n    hurlenko/filebrowser\n\n```\n\nMake it autostart as soon as system boot.\n```  shell script \ndocker update --restart on-failure filebrowser\n```\n-----------------\n# cloud_torrent\n```\ndocker run --name ct -d -p 1004:63000 \\\n  --restart always \\\n  -v /mnt/TOSHBIA_HDD/cloud_torrent/:/downloads \\\n  jpillora/cloud-torrent --port 63000\n\n\n\ndocker run -d  --restart=always  \\\n-p 1004:3000 \\\n-p 50007:50007 \\\n--name cloud-torrent \\\n  -v /media/TOSHIBA/cloud_torrent/downloads:/downloads \\\nminirplus/cloud-torrent\n```\n\n\n------------------\n# docker-plex \n\n```\ndocker run -d \\\n--name plex \\\n--restart always \\\n-p 32400:32400/tcp \\\n-p 3005:3005/tcp \\\n-p 8324:8324/tcp \\\n-p 32469:32469/tcp \\\n-p 1900:1900/udp \\\n-p 32410:32410/udp \\\n-p 32412:32412/udp \\\n-p 32413:32413/udp \\\n-p 32414:32414/udp \\\n-v /mnt/TOSHBIA_HDD/movies/:/data \\\nplexinc/pms-docker\n\n```\n\nhttp://localhost:32400/web/\n\n\n\n## jellyfin with hardware acceleration\n```\ndocker run -d -p 8096:8096 \\\n-v /jellyfin/config:/config -v \\\n/mnt/TOSHIBA-HDD/movies/:/media  \\\n--restart=unless-stopped --device /dev/dri/renderD128:/dev/dri/renderD128  \\\n--device /dev/dri/card0:/dev/dri/card0 \\\nnyanmisaka/jellyfin\n\n```\n\n\n## alist\n```\ndocker run -d --restart=always --name=alist -p 5244:5244 -v /etc/alist:/alist/config  -v /mnt/TOSHIBA-HDD/movies/:/root/movies xhofe/alist\n```\n\n\n## timemachine backup\n```\ndocker run -d --restart=always \\\n  --name timemachine \\\n  --net=host \\\n  -e ADVERTISED_HOSTNAME=\"\" \\\n  -e CUSTOM_SMB_CONF=\"false\" \\\n  -e CUSTOM_USER=\"false\" \\\n  -e DEBUG_LEVEL=\"1\" \\\n  -e MIMIC_MODEL=\"TimeCapsule8,119\" \\\n  -e EXTERNAL_CONF=\"\" \\\n  -e HIDE_SHARES=\"no\" \\\n  -e TM_USERNAME=\"timemachine\" \\\n  -e TM_GROUPNAME=\"timemachine\" \\\n  -e TM_UID=\"1000\" \\\n  -e TM_GID=\"1000\" \\\n  -e PASSWORD=\"timemachine\" \\\n  -e SET_PERMISSIONS=\"false\" \\\n  -e SHARE_NAME=\"TimeMachine\" \\\n  -e SMB_INHERIT_PERMISSIONS=\"no\" \\\n  -e SMB_NFS_ACES=\"no\" \\\n  -e SMB_METADATA=\"stream\" \\\n  -e SMB_PORT=\"445\" \\\n  -e SMB_VFS_OBJECTS=\"acl_xattr fruit streams_xattr\" \\\n  -e VOLUME_SIZE_LIMIT=\"0\" \\\n  -e WORKGROUP=\"WORKGROUP\" \\\n  -v /mnt/TOSHIBA-HDD/movies/:/opt/timemachine \\\n  -v timemachine-var-lib-samba:/var/lib/samba \\\n  -v timemachine-var-cache-samba:/var/cache/samba \\\n  -v timemachine-run-samba:/run/samba \\\n  mbentley/timemachine:smb\n```\n","lang":"en"},"__N_SSG":true}