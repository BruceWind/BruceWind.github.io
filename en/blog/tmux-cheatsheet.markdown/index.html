<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="initial-scale=1, width=device-width"/><meta name="emotion-insertion-point" content=""/><title>tmux-cheatsheet.markdown<!-- --> - BruceWind&#x27;s Blog</title><meta name="description" content="tmux-cheatsheet.markdown - Gists"/><meta property="og:title" content="tmux-cheatsheet.markdown"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2019-04-16T11:07:45Z"/><meta name="next-head-count" content="8"/><meta charSet="utf-8"/><meta name="keywords" content="NDK,JNI,Android Dev,android,androidyuan,性能优化,Linux,developer"/><meta name="description" content="BruceWind&#x27;s personal blog - Android development, Linux, and more."/><meta name="robots" content="index,follow"/><meta name="google" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="author" content="bruce"/><link rel="icon" href="/favicon.ico"/><meta name="theme-color" content="#000000"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-LGE1LT9YJG"></script><script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());
                gtag('config', 'G-LGE1LT9YJG');
              </script><style data-emotion="mui-style-global o6gwfi">html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;box-sizing:border-box;-webkit-text-size-adjust:100%;}*,*::before,*::after{box-sizing:inherit;}strong,b{font-weight:700;}body{margin:0;color:rgba(0, 0, 0, 0.87);font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;background-color:#fff;}@media print{body{background-color:#fff;}}body::backdrop{background-color:#fff;}</style><style data-emotion="mui-style 17ro72p 1cp6o32 79elbk 1qo0fs4 1uf4bbi 1m9pwf3 19gndve 1ju1kxc k1u9gz 6xugel vubbuv gtvj52 1x1vlev vax71z">.mui-style-17ro72p{width:100%;min-height:100vh;background-color:#fff;padding:16px;}.mui-style-1cp6o32{background-color:#fff;color:rgba(0, 0, 0, 0.87);-webkit-transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;border-radius:4px;box-shadow:0px 3px 3px -2px rgba(0,0,0,0.2),0px 3px 4px 0px rgba(0,0,0,0.14),0px 1px 8px 0px rgba(0,0,0,0.12);padding:24px;}.mui-style-79elbk{position:relative;}.mui-style-1qo0fs4{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;width:58px;height:38px;overflow:hidden;padding:12px;box-sizing:border-box;position:relative;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;z-index:0;vertical-align:middle;width:62px;height:34px;padding:7px;margin:8px;}@media print{.mui-style-1qo0fs4{-webkit-print-color-adjust:exact;color-adjust:exact;}}.mui-style-1qo0fs4 .MuiSwitch-switchBase{margin:1px;padding:0;-webkit-transform:translateX(6px);-moz-transform:translateX(6px);-ms-transform:translateX(6px);transform:translateX(6px);}.mui-style-1qo0fs4 .MuiSwitch-switchBase.Mui-checked{color:#fff;-webkit-transform:translateX(22px);-moz-transform:translateX(22px);-ms-transform:translateX(22px);transform:translateX(22px);}.mui-style-1qo0fs4 .MuiSwitch-switchBase.Mui-checked .MuiSwitch-thumb:before{background-image:url('data:image/svg+xml;utf8,<?xml version="1.0" ?><svg height="20" width="20" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g><path d="M0 0h24v24H0z" fill="none"/><path fill="white" d="M12 19a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm-5.5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm11 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zM13 2v2h6v2h-1.968a18.222 18.222 0 0 1-3.621 6.302 14.685 14.685 0 0 0 5.327 3.042l-.536 1.93A16.685 16.685 0 0 1 12 13.726a16.696 16.696 0 0 1-6.202 3.547l-.536-1.929a14.7 14.7 0 0 0 5.327-3.042 18.077 18.077 0 0 1-2.822-4.3h2.24A16.031 16.031 0 0 0 12 10.876a16.168 16.168 0 0 0 2.91-4.876L5 6V4h6V2h2z"/></g></svg>');}.mui-style-1qo0fs4 .MuiSwitch-switchBase.Mui-checked+.MuiSwitch-track{opacity:1;background-color:#aab4be;}.mui-style-1qo0fs4 .MuiSwitch-thumb{background-color:#001e3c;width:32px;height:32px;}.mui-style-1qo0fs4 .MuiSwitch-thumb:before{content:'';position:absolute;width:100%;height:100%;left:0;top:0;background-repeat:no-repeat;-webkit-background-position:center;background-position:center;background-image:url('data:image/svg+xml;utf8,<?xml version="1.0" ?><svg height="20" width="20" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none" /><path fill="white" d="M14 10h2v.757a4.5 4.5 0 0 1 7 3.743V20h-2v-5.5c0-1.43-1.175-2.5-2.5-2.5S16 13.07 16 14.5V20h-2V10zm-2-6v2H4v5h8v2H4v5h8v2H2V4h10z"/></svg>');}.mui-style-1qo0fs4 .MuiSwitch-track{opacity:1;background-color:#aab4be;border-radius:10px;}.mui-style-1uf4bbi{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;padding:9px;border-radius:50%;position:absolute;top:0;left:0;z-index:1;color:#fff;-webkit-transition:left 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,-webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:left 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,transform 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;}.mui-style-1uf4bbi::-moz-focus-inner{border-style:none;}.mui-style-1uf4bbi.Mui-disabled{pointer-events:none;cursor:default;}@media print{.mui-style-1uf4bbi{-webkit-print-color-adjust:exact;color-adjust:exact;}}.mui-style-1uf4bbi.Mui-checked{-webkit-transform:translateX(20px);-moz-transform:translateX(20px);-ms-transform:translateX(20px);transform:translateX(20px);}.mui-style-1uf4bbi.Mui-disabled{color:#f5f5f5;}.mui-style-1uf4bbi.Mui-checked+.MuiSwitch-track{opacity:0.5;}.mui-style-1uf4bbi.Mui-disabled+.MuiSwitch-track{opacity:0.12;}.mui-style-1uf4bbi .MuiSwitch-input{left:-100%;width:300%;}.mui-style-1uf4bbi:hover{background-color:rgba(0, 0, 0, 0.04);}@media (hover: none){.mui-style-1uf4bbi:hover{background-color:transparent;}}.mui-style-1uf4bbi.Mui-checked{color:#1976d2;}.mui-style-1uf4bbi.Mui-checked:hover{background-color:rgba(25, 118, 210, 0.04);}@media (hover: none){.mui-style-1uf4bbi.Mui-checked:hover{background-color:transparent;}}.mui-style-1uf4bbi.Mui-checked.Mui-disabled{color:rgb(167, 202, 237);}.mui-style-1uf4bbi.Mui-checked+.MuiSwitch-track{background-color:#1976d2;}.mui-style-1m9pwf3{cursor:inherit;position:absolute;opacity:0;width:100%;height:100%;top:0;left:0;margin:0;padding:0;z-index:1;}.mui-style-19gndve{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);background-color:currentColor;width:20px;height:20px;border-radius:50%;}.mui-style-1ju1kxc{height:100%;width:100%;border-radius:7px;z-index:-1;-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;background-color:#000;opacity:0.38;}.mui-style-k1u9gz{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:500;font-size:0.875rem;line-height:1.75;letter-spacing:0.02857em;text-transform:uppercase;min-width:64px;padding:6px 8px;border-radius:4px;-webkit-transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;color:#1976d2;margin-bottom:16px;}.mui-style-k1u9gz::-moz-focus-inner{border-style:none;}.mui-style-k1u9gz.Mui-disabled{pointer-events:none;cursor:default;}@media print{.mui-style-k1u9gz{-webkit-print-color-adjust:exact;color-adjust:exact;}}.mui-style-k1u9gz:hover{-webkit-text-decoration:none;text-decoration:none;background-color:rgba(25, 118, 210, 0.04);}@media (hover: none){.mui-style-k1u9gz:hover{background-color:transparent;}}.mui-style-k1u9gz.Mui-disabled{color:rgba(0, 0, 0, 0.26);}.mui-style-6xugel{display:inherit;margin-right:8px;margin-left:-4px;}.mui-style-6xugel>*:nth-of-type(1){font-size:20px;}.mui-style-vubbuv{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:1em;height:1em;display:inline-block;fill:currentColor;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;font-size:1.5rem;}.mui-style-gtvj52{margin:0;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:2.125rem;line-height:1.235;letter-spacing:0.00735em;margin-bottom:0.35em;}.mui-style-1x1vlev{margin:0;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:0.875rem;line-height:1.43;letter-spacing:0.01071em;margin-bottom:0.35em;color:rgba(0, 0, 0, 0.6);}.mui-style-vax71z{margin:0;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;border-width:0;border-style:solid;border-color:rgba(0, 0, 0, 0.12);border-bottom-width:thin;margin-top:16px;margin-bottom:16px;}</style><link rel="preload" href="/_next/static/css/345ff263c1768dbb.css" as="style"/><link rel="stylesheet" href="/_next/static/css/345ff263c1768dbb.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-6ef43a8d4a395f49.js" defer=""></script><script src="/_next/static/chunks/framework-64ad27b21261a9ce.js" defer=""></script><script src="/_next/static/chunks/main-5b2299ded1a46c83.js" defer=""></script><script src="/_next/static/chunks/pages/_app-4f0aaa3a6ba99024.js" defer=""></script><script src="/_next/static/chunks/34-75ae01f5fa578a9a.js" defer=""></script><script src="/_next/static/chunks/995-a5f98cc3a4d14286.js" defer=""></script><script src="/_next/static/chunks/771-702e6dcd51d5534b.js" defer=""></script><script src="/_next/static/chunks/pages/%5Blang%5D/blog/%5Bslug%5D-f7777f3ea9ebdd54.js" defer=""></script><script src="/_next/static/gemsgeIqO9drZBXzEf0vV/_buildManifest.js" defer=""></script><script src="/_next/static/gemsgeIqO9drZBXzEf0vV/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="MuiBox-root mui-style-17ro72p"><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation3 mui-style-1cp6o32"><div class="MuiBox-root mui-style-79elbk"><div style="position:absolute;top:22px;right:15px;height:100px;z-index:1300"><span class="MuiSwitch-root MuiSwitch-sizeMedium mui-style-1qo0fs4"><span class="MuiButtonBase-root MuiSwitch-switchBase MuiSwitch-colorPrimary PrivateSwitchBase-root MuiSwitch-switchBase MuiSwitch-colorPrimary mui-style-1uf4bbi"><input class="PrivateSwitchBase-input MuiSwitch-input mui-style-1m9pwf3" type="checkbox"/><span class="MuiSwitch-thumb mui-style-19gndve"></span></span><span class="MuiSwitch-track mui-style-1ju1kxc"></span></span></div><a class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary mui-style-k1u9gz" tabindex="0" href="/en/"><span class="MuiButton-icon MuiButton-startIcon MuiButton-iconSizeMedium mui-style-6xugel"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-style-vubbuv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ArrowBackIcon"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"></path></svg></span>Back to list</a><h1 class="MuiTypography-root MuiTypography-h4 MuiTypography-gutterBottom mui-style-gtvj52">tmux-cheatsheet.markdown</h1><p class="MuiTypography-root MuiTypography-body2 MuiTypography-gutterBottom mui-style-1x1vlev">Gists<!-- --> | <!-- -->2019-04-16T11:07:45Z</p><hr class="MuiDivider-root MuiDivider-fullWidth mui-style-vax71z"/><div class="markdown-body"><h2>如果alias丢失</h2>
<p>紧急使用可以先执行 source ~/.bash_rc</p>
<p>添加如下代码到~/.bash_profile之后下次启动tmux就有效了</p>
<pre><code>case $- in *i*) . ~/.bashrc;; esac
</code></pre>
<p>注意：本文内容适用于 Tmux 2.3 及以上的版本，但是绝大部分的特性低版本也都适用，鼠标支持、VI 模式、插件管理在低版本可能会与本文不兼容。</p>
<h1>Tmux 快捷键 &amp; 速查表</h1>
<p>启动新会话：</p>
<pre><code>tmux [new -s 会话名 -n 窗口名]
</code></pre>
<p>恢复会话：</p>
<pre><code>tmux at [-t 会话名]
</code></pre>
<p>列出所有会话：</p>
<pre><code>tmux ls
</code></pre>
<p><a name="killSessions"></a>关闭会话：</p>
<pre><code>tmux kill-session -t 会话名
</code></pre>
<p><a name="killAllSessions"></a>关闭所有会话：</p>
<pre><code>tmux ls | grep : | cut -d. -f1 | awk &#x27;{print substr($1, 0, length($1)-1)}&#x27; | xargs kill
</code></pre>
<h1>在 Tmux 中，按下 Tmux 前缀 <code>ctrl+b</code>，然后：</h1>
<h2>会话</h2>
<pre><code>:new&lt;回车&gt;  启动新会话
s           列出所有会话
$           重命名当前会话
</code></pre>
<h2><a name="WindowsTabs"></a>窗口 (标签页)</h2>
<pre><code>c  创建新窗口
w  列出所有窗口
n  后一个窗口
p  前一个窗口
f  查找窗口
,  重命名当前窗口
&amp;  关闭当前窗口
</code></pre>
<h2>调整窗口排序</h2>
<pre><code>swap-window -s 3 -t 1  交换 3 号和 1 号窗口
swap-window -t 1       交换当前和 1 号窗口
move-window -t 1       移动当前窗口到 1 号
</code></pre>
<h2><a name="PanesSplits"></a>窗格（分割窗口）</h2>
<pre><code>%  垂直分割
&quot;  水平分割
o  交换窗格
x  关闭窗格
⍽  左边这个符号代表空格键 - 切换布局
q 显示每个窗格是第几个，当数字出现的时候按数字几就选中第几个窗格
{ 与上一个窗格交换位置
} 与下一个窗格交换位置
z 切换窗格最大化/最小化

</code></pre>
<h2>滚屏</h2>
<p>1.C+b  之后</p>
<pre><code>PageUp      上翻一页
PageDown    下翻一页
</code></pre>
<p>2.C+b <code>[</code> 之后</p>
<pre><code>方向键上      光标上移一行
方向键下      光标下移一行
PageUp      上翻一页
PageDown    下翻一页
</code></pre>
<h2><a name="syncPanes"></a>同步窗格</h2>
<p>这么做可以切换到想要的窗口，输入 Tmux 前缀和一个冒号呼出命令提示行，然后输入：</p>
<pre><code>:setw synchronize-panes
</code></pre>
<p>你可以指定开或关，否则重复执行命令会在两者间切换。
这个选项值针对某个窗口有效，不会影响别的会话和窗口。
完事儿之后再次执行命令来关闭。<a href="http://blog.sanctum.geek.nz/sync-tmux-panes/">帮助</a></p>
<h2>调整窗格尺寸</h2>
<p>如果你不喜欢默认布局，可以重调窗格的尺寸。虽然这很容易实现，但一般不需要这么干。这几个命令用来调整窗格：</p>
<pre><code>PREFIX : resize-pane -D          当前窗格向下扩大 1 格
PREFIX : resize-pane -U          当前窗格向上扩大 1 格
PREFIX : resize-pane -L          当前窗格向左扩大 1 格
PREFIX : resize-pane -R          当前窗格向右扩大 1 格
PREFIX : resize-pane -D 20       当前窗格向下扩大 20 格
PREFIX : resize-pane -t 2 -L 20  编号为 2 的窗格向左扩大 20 格

</code></pre>
<h2>文本复制模式：</h2>
<p>按下 <code>PREFIX-[</code> 进入文本复制模式。可以使用方向键在屏幕中移动光标。默认情况下，方向键是启用的。在配置文件中启用 Vim 键盘布局来切换窗口、调整窗格大小。Tmux 也支持 Vi 模式。要是想启用 Vi 模式，只需要把下面这一行添加到 .tmux.conf 中：</p>
<pre><code>setw -g mode-keys vi
</code></pre>
<p>启用这条配置后，就可以使用 h、j、k、l 来移动光标了。</p>
<p>想要退出文本复制模式的话，按下回车键就可以了。然后按下 <code>PREFIX-]</code> 粘贴刚才复制的文本。</p>
<p>一次移动一格效率低下，在 Vi 模式启用的情况下，可以辅助一些别的快捷键高效工作。</p>
<p>例如，可以使用 w 键逐词移动，使用 b 键逐词回退。使用 f 键加上任意字符跳转到当前行第一次出现该字符的位置，使用 F 键达到相反的效果。</p>
<pre><code>vi             emacs        功能
^              M-m          反缩进
Escape         C-g          清除选定内容
Enter          M-w          复制选定内容
j              Down         光标下移
h              Left         光标左移
l              Right        光标右移
L                           光标移到尾行
M              M-r          光标移到中间行
H              M-R          光标移到首行
k              Up           光标上移
d              C-u          删除整行
D              C-k          删除到行末
$              C-e          移到行尾
:              g            前往指定行
C-d            M-Down       向下滚动半屏
C-u            M-Up         向上滚动半屏
C-f            Page down    下一页
w              M-f          下一个词
p              C-y          粘贴
C-b            Page up      上一页
b              M-b          上一个词
q              Escape       退出
C-Down or J    C-Down       向下翻
C-Up or K      C-Up         向下翻
n              n            继续搜索
?              C-r          向前搜索
/              C-s          向后搜索
0              C-a          移到行首
Space          C-Space      开始选中
               C-t          字符调序
</code></pre>
<h2>杂项：</h2>
<pre><code>d  退出 tmux（tmux 仍在后台运行）
t  窗口中央显示一个数字时钟
?  列出所有快捷键
:  命令提示符
</code></pre>
<h2>配置选项：</h2>
<pre><code># 鼠标支持 - 设置为 on 来启用鼠标(与 2.1 之前的版本有区别，请自行查阅 man page)
* set -g mouse on

# 设置默认终端模式为 256color
set -g default-terminal &quot;screen-256color&quot;

# 启用活动警告
setw -g monitor-activity on
set -g visual-activity on

# 居中窗口列表
set -g status-justify centre

# 最大化/恢复窗格
unbind Up bind Up new-window -d -n tmp \; swap-pane -s tmp.1 \; select-window -t tmp
unbind Down
bind Down last-window \; swap-pane -s tmp.1 \; kill-window -t tmp
</code></pre>
<h2>参考配置文件（~/.tmux.conf）：</h2>
<p>下面这份配置是我使用 Tmux 几年来逐渐精简后的配置，请自取。</p>
<pre><code class="language-bash"># -----------------------------------------------------------------------------
# Tmux 基本配置 - 要求 Tmux &gt;= 2.3
# 如果不想使用插件，只需要将此节的内容写入 ~/.tmux.conf 即可
# -----------------------------------------------------------------------------

# C-b 和 VIM 冲突，修改 Prefix 组合键为 Control-Z，按键距离近
set -g prefix C-z

set -g base-index         1     # 窗口编号从 1 开始计数
set -g display-panes-time 10000 # PREFIX-Q 显示编号的驻留时长，单位 ms
set -g mouse              on    # 开启鼠标
set -g pane-base-index    1     # 窗格编号从 1 开始计数
set -g renumber-windows   on    # 关掉某个窗口后，编号重排

setw -g allow-rename      off   # 禁止活动进程修改窗口名
setw -g automatic-rename  off   # 禁止自动命名新窗口
setw -g mode-keys         vi    # 进入复制模式的时候使用 vi 键位（默认是 EMACS）

# -----------------------------------------------------------------------------
# 使用插件 - via tpm
#   1. 执行 git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm
#   2. 执行 bash ~/.tmux/plugins/tpm/bin/install_plugins
# -----------------------------------------------------------------------------

setenv -g TMUX_PLUGIN_MANAGER_PATH &#x27;~/.tmux/plugins&#x27;

# 推荐的插件（请去每个插件的仓库下读一读使用教程）
set -g @plugin &#x27;seebi/tmux-colors-solarized&#x27;
set -g @plugin &#x27;tmux-plugins/tmux-pain-control&#x27;
set -g @plugin &#x27;tmux-plugins/tmux-prefix-highlight&#x27;
set -g @plugin &#x27;tmux-plugins/tmux-resurrect&#x27;
set -g @plugin &#x27;tmux-plugins/tmux-sensible&#x27;
set -g @plugin &#x27;tmux-plugins/tmux-yank&#x27;
set -g @plugin &#x27;tmux-plugins/tpm&#x27;

# tmux-resurrect
set -g @resurrect-dir &#x27;~/.tmux/resurrect&#x27;

# tmux-prefix-highlight
set -g status-right &#x27;#{prefix_highlight} #H | %a %Y-%m-%d %H:%M&#x27;
set -g @prefix_highlight_show_copy_mode &#x27;on&#x27;
set -g @prefix_highlight_copy_mode_attr &#x27;fg=white,bg=blue&#x27;

# 初始化 TPM 插件管理器 (放在配置文件的最后)
run &#x27;~/.tmux/plugins/tpm/tpm&#x27;

# -----------------------------------------------------------------------------
# 结束
# -----------------------------------------------------------------------------
</code></pre></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"slug":"tmux-cheatsheet.markdown","title":"tmux-cheatsheet.markdown","mdsource":"https://gist.githubusercontent.com/BruceWind/a3eb039d4624331dfa592e6e0caf8f18/raw/305363e17090229ec8da1cde9c037a2147e7254c/tmux-cheatsheet.markdown","date":"2019-04-16T11:07:45Z","category":"Gists"},"content":"## 如果alias丢失\n紧急使用可以先执行 source ~/.bash_rc\n\n添加如下代码到~/.bash_profile之后下次启动tmux就有效了\n```\ncase $- in *i*) . ~/.bashrc;; esac\n```\n\n\n注意：本文内容适用于 Tmux 2.3 及以上的版本，但是绝大部分的特性低版本也都适用，鼠标支持、VI 模式、插件管理在低版本可能会与本文不兼容。\n\n# Tmux 快捷键 \u0026 速查表\n\n启动新会话：\n\n    tmux [new -s 会话名 -n 窗口名]\n\n恢复会话：\n\n    tmux at [-t 会话名]\n\n列出所有会话：\n\n    tmux ls\n\n\u003ca name=\"killSessions\"\u003e\u003c/a\u003e关闭会话：\n\n    tmux kill-session -t 会话名\n\n\u003ca name=\"killAllSessions\"\u003e\u003c/a\u003e关闭所有会话：\n\n    tmux ls | grep : | cut -d. -f1 | awk '{print substr($1, 0, length($1)-1)}' | xargs kill\n\n# 在 Tmux 中，按下 Tmux 前缀 `ctrl+b`，然后：\n\n## 会话\n\n    :new\u003c回车\u003e  启动新会话\n    s           列出所有会话\n    $           重命名当前会话\n    \n\n## \u003ca name=\"WindowsTabs\"\u003e\u003c/a\u003e窗口 (标签页)\n\n    c  创建新窗口\n    w  列出所有窗口\n    n  后一个窗口\n    p  前一个窗口\n    f  查找窗口\n    ,  重命名当前窗口\n    \u0026  关闭当前窗口\n\n## 调整窗口排序\n\n    swap-window -s 3 -t 1  交换 3 号和 1 号窗口\n    swap-window -t 1       交换当前和 1 号窗口\n    move-window -t 1       移动当前窗口到 1 号\n\n## \u003ca name=\"PanesSplits\"\u003e\u003c/a\u003e窗格（分割窗口） \n\n    %  垂直分割\n    \"  水平分割\n    o  交换窗格\n    x  关闭窗格\n    ⍽  左边这个符号代表空格键 - 切换布局\n    q 显示每个窗格是第几个，当数字出现的时候按数字几就选中第几个窗格\n    { 与上一个窗格交换位置\n    } 与下一个窗格交换位置\n    z 切换窗格最大化/最小化\n\n    \n ## 滚屏\n   1.C+b  之后\n   \n    PageUp      上翻一页\n    PageDown    下翻一页\n    \n   2.C+b `[` 之后\n   \n    方向键上      光标上移一行\n    方向键下      光标下移一行\n    PageUp      上翻一页\n    PageDown    下翻一页\n    \n## \u003ca name=\"syncPanes\"\u003e\u003c/a\u003e同步窗格\n\n这么做可以切换到想要的窗口，输入 Tmux 前缀和一个冒号呼出命令提示行，然后输入：\n\n```\n:setw synchronize-panes\n```\n\n你可以指定开或关，否则重复执行命令会在两者间切换。\n这个选项值针对某个窗口有效，不会影响别的会话和窗口。\n完事儿之后再次执行命令来关闭。[帮助](http://blog.sanctum.geek.nz/sync-tmux-panes/)\n\n\n## 调整窗格尺寸\n\n如果你不喜欢默认布局，可以重调窗格的尺寸。虽然这很容易实现，但一般不需要这么干。这几个命令用来调整窗格：\n\n    PREFIX : resize-pane -D          当前窗格向下扩大 1 格\n    PREFIX : resize-pane -U          当前窗格向上扩大 1 格\n    PREFIX : resize-pane -L          当前窗格向左扩大 1 格\n    PREFIX : resize-pane -R          当前窗格向右扩大 1 格\n    PREFIX : resize-pane -D 20       当前窗格向下扩大 20 格\n    PREFIX : resize-pane -t 2 -L 20  编号为 2 的窗格向左扩大 20 格\n    \n    \n## 文本复制模式：\n\n按下 `PREFIX-[` 进入文本复制模式。可以使用方向键在屏幕中移动光标。默认情况下，方向键是启用的。在配置文件中启用 Vim 键盘布局来切换窗口、调整窗格大小。Tmux 也支持 Vi 模式。要是想启用 Vi 模式，只需要把下面这一行添加到 .tmux.conf 中：\n\n    setw -g mode-keys vi\n\n启用这条配置后，就可以使用 h、j、k、l 来移动光标了。\n\n想要退出文本复制模式的话，按下回车键就可以了。然后按下 `PREFIX-]` 粘贴刚才复制的文本。\n\n一次移动一格效率低下，在 Vi 模式启用的情况下，可以辅助一些别的快捷键高效工作。\n\n例如，可以使用 w 键逐词移动，使用 b 键逐词回退。使用 f 键加上任意字符跳转到当前行第一次出现该字符的位置，使用 F 键达到相反的效果。\n\n    vi             emacs        功能\n    ^              M-m          反缩进\n    Escape         C-g          清除选定内容\n    Enter          M-w          复制选定内容\n    j              Down         光标下移\n    h              Left         光标左移\n    l              Right        光标右移\n    L                           光标移到尾行\n    M              M-r          光标移到中间行\n    H              M-R          光标移到首行\n    k              Up           光标上移\n    d              C-u          删除整行\n    D              C-k          删除到行末\n    $              C-e          移到行尾\n    :              g            前往指定行\n    C-d            M-Down       向下滚动半屏\n    C-u            M-Up         向上滚动半屏\n    C-f            Page down    下一页\n    w              M-f          下一个词\n    p              C-y          粘贴\n    C-b            Page up      上一页\n    b              M-b          上一个词\n    q              Escape       退出\n    C-Down or J    C-Down       向下翻\n    C-Up or K      C-Up         向下翻\n    n              n            继续搜索\n    ?              C-r          向前搜索\n    /              C-s          向后搜索\n    0              C-a          移到行首\n    Space          C-Space      开始选中\n                   C-t          字符调序\n\n## 杂项：\n\n    d  退出 tmux（tmux 仍在后台运行）\n    t  窗口中央显示一个数字时钟\n    ?  列出所有快捷键\n    :  命令提示符\n\n## 配置选项：\n\n    # 鼠标支持 - 设置为 on 来启用鼠标(与 2.1 之前的版本有区别，请自行查阅 man page)\n    * set -g mouse on\n\n    # 设置默认终端模式为 256color\n    set -g default-terminal \"screen-256color\"\n\n    # 启用活动警告\n    setw -g monitor-activity on\n    set -g visual-activity on\n\n    # 居中窗口列表\n    set -g status-justify centre\n\n    # 最大化/恢复窗格\n    unbind Up bind Up new-window -d -n tmp \\; swap-pane -s tmp.1 \\; select-window -t tmp\n    unbind Down\n    bind Down last-window \\; swap-pane -s tmp.1 \\; kill-window -t tmp\n\n## 参考配置文件（~/.tmux.conf）：\n\n下面这份配置是我使用 Tmux 几年来逐渐精简后的配置，请自取。\n\n```bash\n# -----------------------------------------------------------------------------\n# Tmux 基本配置 - 要求 Tmux \u003e= 2.3\n# 如果不想使用插件，只需要将此节的内容写入 ~/.tmux.conf 即可\n# -----------------------------------------------------------------------------\n\n# C-b 和 VIM 冲突，修改 Prefix 组合键为 Control-Z，按键距离近\nset -g prefix C-z\n\nset -g base-index         1     # 窗口编号从 1 开始计数\nset -g display-panes-time 10000 # PREFIX-Q 显示编号的驻留时长，单位 ms\nset -g mouse              on    # 开启鼠标\nset -g pane-base-index    1     # 窗格编号从 1 开始计数\nset -g renumber-windows   on    # 关掉某个窗口后，编号重排\n\nsetw -g allow-rename      off   # 禁止活动进程修改窗口名\nsetw -g automatic-rename  off   # 禁止自动命名新窗口\nsetw -g mode-keys         vi    # 进入复制模式的时候使用 vi 键位（默认是 EMACS）\n\n# -----------------------------------------------------------------------------\n# 使用插件 - via tpm\n#   1. 执行 git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm\n#   2. 执行 bash ~/.tmux/plugins/tpm/bin/install_plugins\n# -----------------------------------------------------------------------------\n\nsetenv -g TMUX_PLUGIN_MANAGER_PATH '~/.tmux/plugins'\n\n# 推荐的插件（请去每个插件的仓库下读一读使用教程）\nset -g @plugin 'seebi/tmux-colors-solarized'\nset -g @plugin 'tmux-plugins/tmux-pain-control'\nset -g @plugin 'tmux-plugins/tmux-prefix-highlight'\nset -g @plugin 'tmux-plugins/tmux-resurrect'\nset -g @plugin 'tmux-plugins/tmux-sensible'\nset -g @plugin 'tmux-plugins/tmux-yank'\nset -g @plugin 'tmux-plugins/tpm'\n\n# tmux-resurrect\nset -g @resurrect-dir '~/.tmux/resurrect'\n\n# tmux-prefix-highlight\nset -g status-right '#{prefix_highlight} #H | %a %Y-%m-%d %H:%M'\nset -g @prefix_highlight_show_copy_mode 'on'\nset -g @prefix_highlight_copy_mode_attr 'fg=white,bg=blue'\n\n# 初始化 TPM 插件管理器 (放在配置文件的最后)\nrun '~/.tmux/plugins/tpm/tpm'\n\n# -----------------------------------------------------------------------------\n# 结束\n# -----------------------------------------------------------------------------\n```","lang":"en"},"__N_SSG":true},"page":"/[lang]/blog/[slug]","query":{"lang":"en","slug":"tmux-cheatsheet.markdown"},"buildId":"gemsgeIqO9drZBXzEf0vV","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>