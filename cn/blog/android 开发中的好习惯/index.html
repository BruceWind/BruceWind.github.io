<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="initial-scale=1, width=device-width"/><meta name="emotion-insertion-point" content=""/><title>android 开发中的好习惯.md<!-- --> - BruceWind&#x27;s Blog</title><meta name="description" content="android 开发中的好习惯.md - 几年后回看会觉得写的太烂"/><meta property="og:title" content="android 开发中的好习惯.md"/><meta property="og:type" content="article"/><meta property="article:published_time" content=" 2015/09/17 19:33:05"/><meta name="next-head-count" content="8"/><meta charSet="utf-8"/><meta name="keywords" content="NDK,JNI,Android Dev,android,androidyuan,性能优化,Linux,developer"/><meta name="description" content="BruceWind&#x27;s personal blog - Android development, Linux, and more."/><meta name="robots" content="index,follow"/><meta name="google" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="author" content="bruce"/><link rel="icon" href="/favicon.ico"/><meta name="theme-color" content="#000000"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-LGE1LT9YJG"></script><script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());
                gtag('config', 'G-LGE1LT9YJG');
              </script><style data-emotion="mui-style-global o6gwfi">html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;box-sizing:border-box;-webkit-text-size-adjust:100%;}*,*::before,*::after{box-sizing:inherit;}strong,b{font-weight:700;}body{margin:0;color:rgba(0, 0, 0, 0.87);font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;background-color:#fff;}@media print{body{background-color:#fff;}}body::backdrop{background-color:#fff;}</style><style data-emotion="mui-style 17ro72p 1cp6o32 79elbk 1qo0fs4 1uf4bbi 1m9pwf3 19gndve 1ju1kxc k1u9gz 6xugel 1k33q06 gtvj52 1x1vlev vax71z">.mui-style-17ro72p{width:100%;min-height:100vh;background-color:#fff;padding:16px;}.mui-style-1cp6o32{background-color:#fff;color:rgba(0, 0, 0, 0.87);-webkit-transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;border-radius:4px;box-shadow:0px 3px 3px -2px rgba(0,0,0,0.2),0px 3px 4px 0px rgba(0,0,0,0.14),0px 1px 8px 0px rgba(0,0,0,0.12);padding:24px;}.mui-style-79elbk{position:relative;}.mui-style-1qo0fs4{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;width:58px;height:38px;overflow:hidden;padding:12px;box-sizing:border-box;position:relative;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;z-index:0;vertical-align:middle;width:62px;height:34px;padding:7px;margin:8px;}@media print{.mui-style-1qo0fs4{-webkit-print-color-adjust:exact;color-adjust:exact;}}.mui-style-1qo0fs4 .MuiSwitch-switchBase{margin:1px;padding:0;-webkit-transform:translateX(6px);-moz-transform:translateX(6px);-ms-transform:translateX(6px);transform:translateX(6px);}.mui-style-1qo0fs4 .MuiSwitch-switchBase.Mui-checked{color:#fff;-webkit-transform:translateX(22px);-moz-transform:translateX(22px);-ms-transform:translateX(22px);transform:translateX(22px);}.mui-style-1qo0fs4 .MuiSwitch-switchBase.Mui-checked .MuiSwitch-thumb:before{background-image:url('data:image/svg+xml;utf8,<?xml version="1.0" ?><svg height="20" width="20" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g><path d="M0 0h24v24H0z" fill="none"/><path fill="white" d="M12 19a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm-5.5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm11 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zM13 2v2h6v2h-1.968a18.222 18.222 0 0 1-3.621 6.302 14.685 14.685 0 0 0 5.327 3.042l-.536 1.93A16.685 16.685 0 0 1 12 13.726a16.696 16.696 0 0 1-6.202 3.547l-.536-1.929a14.7 14.7 0 0 0 5.327-3.042 18.077 18.077 0 0 1-2.822-4.3h2.24A16.031 16.031 0 0 0 12 10.876a16.168 16.168 0 0 0 2.91-4.876L5 6V4h6V2h2z"/></g></svg>');}.mui-style-1qo0fs4 .MuiSwitch-switchBase.Mui-checked+.MuiSwitch-track{opacity:1;background-color:#aab4be;}.mui-style-1qo0fs4 .MuiSwitch-thumb{background-color:#001e3c;width:32px;height:32px;}.mui-style-1qo0fs4 .MuiSwitch-thumb:before{content:'';position:absolute;width:100%;height:100%;left:0;top:0;background-repeat:no-repeat;-webkit-background-position:center;background-position:center;background-image:url('data:image/svg+xml;utf8,<?xml version="1.0" ?><svg height="20" width="20" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none" /><path fill="white" d="M14 10h2v.757a4.5 4.5 0 0 1 7 3.743V20h-2v-5.5c0-1.43-1.175-2.5-2.5-2.5S16 13.07 16 14.5V20h-2V10zm-2-6v2H4v5h8v2H4v5h8v2H2V4h10z"/></svg>');}.mui-style-1qo0fs4 .MuiSwitch-track{opacity:1;background-color:#aab4be;border-radius:10px;}.mui-style-1uf4bbi{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;padding:9px;border-radius:50%;position:absolute;top:0;left:0;z-index:1;color:#fff;-webkit-transition:left 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,-webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:left 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,transform 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;}.mui-style-1uf4bbi::-moz-focus-inner{border-style:none;}.mui-style-1uf4bbi.Mui-disabled{pointer-events:none;cursor:default;}@media print{.mui-style-1uf4bbi{-webkit-print-color-adjust:exact;color-adjust:exact;}}.mui-style-1uf4bbi.Mui-checked{-webkit-transform:translateX(20px);-moz-transform:translateX(20px);-ms-transform:translateX(20px);transform:translateX(20px);}.mui-style-1uf4bbi.Mui-disabled{color:#f5f5f5;}.mui-style-1uf4bbi.Mui-checked+.MuiSwitch-track{opacity:0.5;}.mui-style-1uf4bbi.Mui-disabled+.MuiSwitch-track{opacity:0.12;}.mui-style-1uf4bbi .MuiSwitch-input{left:-100%;width:300%;}.mui-style-1uf4bbi:hover{background-color:rgba(0, 0, 0, 0.04);}@media (hover: none){.mui-style-1uf4bbi:hover{background-color:transparent;}}.mui-style-1uf4bbi.Mui-checked{color:#1976d2;}.mui-style-1uf4bbi.Mui-checked:hover{background-color:rgba(25, 118, 210, 0.04);}@media (hover: none){.mui-style-1uf4bbi.Mui-checked:hover{background-color:transparent;}}.mui-style-1uf4bbi.Mui-checked.Mui-disabled{color:rgb(167, 202, 237);}.mui-style-1uf4bbi.Mui-checked+.MuiSwitch-track{background-color:#1976d2;}.mui-style-1m9pwf3{cursor:inherit;position:absolute;opacity:0;width:100%;height:100%;top:0;left:0;margin:0;padding:0;z-index:1;}.mui-style-19gndve{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);background-color:currentColor;width:20px;height:20px;border-radius:50%;}.mui-style-1ju1kxc{height:100%;width:100%;border-radius:7px;z-index:-1;-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;background-color:#000;opacity:0.38;}.mui-style-k1u9gz{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:500;font-size:0.875rem;line-height:1.75;letter-spacing:0.02857em;text-transform:uppercase;min-width:64px;padding:6px 8px;border-radius:4px;-webkit-transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;color:#1976d2;margin-bottom:16px;}.mui-style-k1u9gz::-moz-focus-inner{border-style:none;}.mui-style-k1u9gz.Mui-disabled{pointer-events:none;cursor:default;}@media print{.mui-style-k1u9gz{-webkit-print-color-adjust:exact;color-adjust:exact;}}.mui-style-k1u9gz:hover{-webkit-text-decoration:none;text-decoration:none;background-color:rgba(25, 118, 210, 0.04);}@media (hover: none){.mui-style-k1u9gz:hover{background-color:transparent;}}.mui-style-k1u9gz.Mui-disabled{color:rgba(0, 0, 0, 0.26);}.mui-style-6xugel{display:inherit;margin-right:8px;margin-left:-4px;}.mui-style-6xugel>*:nth-of-type(1){font-size:20px;}.mui-style-1k33q06{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:1em;height:1em;display:inline-block;fill:currentColor;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;font-size:1.25rem;}.mui-style-gtvj52{margin:0;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:2.125rem;line-height:1.235;letter-spacing:0.00735em;margin-bottom:0.35em;}.mui-style-1x1vlev{margin:0;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:0.875rem;line-height:1.43;letter-spacing:0.01071em;margin-bottom:0.35em;color:rgba(0, 0, 0, 0.6);}.mui-style-vax71z{margin:0;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;border-width:0;border-style:solid;border-color:rgba(0, 0, 0, 0.12);border-bottom-width:thin;margin-top:16px;margin-bottom:16px;}</style><link rel="preload" href="/_next/static/css/345ff263c1768dbb.css" as="style"/><link rel="stylesheet" href="/_next/static/css/345ff263c1768dbb.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-6ef43a8d4a395f49.js" defer=""></script><script src="/_next/static/chunks/framework-64ad27b21261a9ce.js" defer=""></script><script src="/_next/static/chunks/main-5b2299ded1a46c83.js" defer=""></script><script src="/_next/static/chunks/pages/_app-4f0aaa3a6ba99024.js" defer=""></script><script src="/_next/static/chunks/34-75ae01f5fa578a9a.js" defer=""></script><script src="/_next/static/chunks/995-a5f98cc3a4d14286.js" defer=""></script><script src="/_next/static/chunks/771-702e6dcd51d5534b.js" defer=""></script><script src="/_next/static/chunks/pages/%5Blang%5D/blog/%5Bslug%5D-c0566a06cafc2ea3.js" defer=""></script><script src="/_next/static/zaycUZ6jvMLykcBwRP9wT/_buildManifest.js" defer=""></script><script src="/_next/static/zaycUZ6jvMLykcBwRP9wT/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="MuiBox-root mui-style-17ro72p"><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation3 mui-style-1cp6o32"><div class="MuiBox-root mui-style-79elbk"><div style="position:fixed;top:22px;right:15px;z-index:1300"><span class="MuiSwitch-root MuiSwitch-sizeMedium mui-style-1qo0fs4"><span class="MuiButtonBase-root MuiSwitch-switchBase MuiSwitch-colorPrimary Mui-checked PrivateSwitchBase-root MuiSwitch-switchBase MuiSwitch-colorPrimary Mui-checked Mui-checked mui-style-1uf4bbi"><input class="PrivateSwitchBase-input MuiSwitch-input mui-style-1m9pwf3" type="checkbox" checked=""/><span class="MuiSwitch-thumb mui-style-19gndve"></span></span><span class="MuiSwitch-track mui-style-1ju1kxc"></span></span></div><a class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary mui-style-k1u9gz" tabindex="0" href="/cn/"><span class="MuiButton-icon MuiButton-startIcon MuiButton-iconSizeMedium mui-style-6xugel"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeSmall mui-style-1k33q06" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ArrowBackIcon"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"></path></svg></span>返回列表</a><h1 class="MuiTypography-root MuiTypography-h4 MuiTypography-gutterBottom mui-style-gtvj52">android 开发中的好习惯.md</h1><p class="MuiTypography-root MuiTypography-body2 MuiTypography-gutterBottom mui-style-1x1vlev">几年后回看会觉得写的太烂<!-- --> | <!-- --> 2015/09/17 19:33:05</p><hr class="MuiDivider-root MuiDivider-fullWidth mui-style-vax71z"/><div class="markdown-body"><p>title: android 开发中的好习惯
date: 2015/09/17 19:33:05
updated: 2015/10/29 18:39:57
categories:</p>
<ul>
<li>技术</li>
</ul>
<hr/>
<h3>1.被adapter所引用的数据源尽量使用final。</h3>
<pre><code>一般写adapter的时候，其中的datalist，也就数据源，一般都没有在Adapter中进行new，而adapter只是在new 的时候通过自定义的构造方法传递进来，这里是引用了act或者frag中的一个datalist的地址。
那么为了防止act中的datalist再被adapter引用之后重新赋值，要尽量设置为final，不设置final的话，在adapter被设置之后，你重新new datalist，就会导致adapter原来引用的地址还是旧的datalist，这里你只是改变了新的地址上的数据源，旧的还没变，就容易导致一些问题，加了final，会限制自己不会重新new这个datalist，这是一个非常好的习惯。
</code></pre>
<h3>2.if()后面一定要加{}，就算if只有一行也要加{}。</h3>
<pre><code>这样仅仅是为了视觉，代码可读性增强。
</code></pre>
<h3>3.大括号{}中的代码也要尽量用空行的方法把逻辑类似的分割开来。</h3>
<pre><code>我们都懂得拆分代码，方便测试，和阅读，但是有些不适合拆分的比如，大括号内{} 可能会有多行代码，但是这些行代码，逻辑上好像不方便再拆分，但是，如果判断和下面处理用空格隔开，还有假如return 这行代码跟前面的逻辑也隔开。或者是void的方法，一般里面有判断的几行代码，数据处理的几行代码，还有set的几行代码，判断，处理，和set的几行都用空格隔开的话，似乎代码的可读性大大的加强了。
</code></pre>
<h3>4.减少Thread的滥用。</h3>
<pre><code>多用Timertask，还有线程池之类的，asynctask之类的很多很多好的东西，多去研究拿一种更加适合最好不过了。
</code></pre>
<h3>5.switch case  使用时，每个case  XXXX: 之后记得加{}。</h3>
<pre><code>在这里加{}，跟if尾部加{}是一个意思。这样子不是为了别的，仅仅是为了增加代码的易读性，{}后面再换行写break，每次我看到case  XXXX：后面几行写一堆的代码然后直接跟break;我看代码的目的就是分析代码，没有括号我每次都要把break的分析，加到我的脑子里，这样我就要多记忆一行代码。
</code></pre>
<h3>6.多个参数的方法，记得每个参数都用一行。</h3>
<p>举个例子：</p>
<pre><code>下面同样是写代码我写了三种方法，代码都是一样的逻辑，参数都一样，我只是改了一些换行之类的你觉得那种更容易理解。
</code></pre>
<ul>
<li>a.</li>
</ul>
<pre><code class="language-java">	RequestUtils.requestGetInfo(ZLApplication.mZLApplication.getmNetWork(),getActivity(), handler, map, URLUtil.getServer()+ URLUtil.GET_APP_ADV, RES_ADV_INFO,false);

</code></pre>
<ul>
<li>b.</li>
</ul>
<pre><code class="language-java">	RequestUtils.requestGetInfo(ZLApplication.mZLApplication.getmNetWork(),
                        getActivity(), handler, map, URLUtil.getServer()
                                + URLUtil.GET_APP_ADV, RES_ADV_INFO，false);

</code></pre>
<ul>
<li>c.</li>
</ul>
<pre><code class="language-java">	RequestUtils.requestGetInfo(
			ZLApplication.mZLApplication.getmNetWork(),
			getActivity(), 
			map, 
			URLUtil.getServer()+ URLUtil.GET_APP_ADV,
			RES_ADV_INFO,
			false
			);

</code></pre>
<pre><code>很显然肯定是最后一种更加易读，abc种代码分别表示了三种不同的程序员。  
当然这个方法不是我定义的，一个同事定义的，其中一些参数很多余，明显是有些是static 都穿进来了，写进方法内部去取不就行了还做的这个麻烦，地址居然还要自己拼，看了好烦的，那个参数竟然要用 “+”进行字符串拼接。
</code></pre>
<h3>4.不想让团队中的别人调用你所写的类的默认构造函数时，最好使用private 一下默认构造行数。</h3>
<pre><code>比如 private ADVTool(){}，之后这个类的默认构造函数就被禁用了。虽然这个技巧用处不是很多，但是比你特么的写一堆的注释告诉别人的方式好，这样子就强制禁用默认构造函数了。
</code></pre>
<h3>5.方法命名还有一些action的命名尽量减少get set put的单词的使用。</h3>
<pre><code>虽然，平时英语口语中get think 之类的词语可以表示很多词，说口语时很多时候都懒得用那些拗口的单词，直接就用get think代替everthing了。但是这他妈的是编程，你特么方法名给老子全是 get 老子看得懂你写的是个鸟啊？尽量找一些更合适的单词好不好，MD。  我看到一堆的方法命名还在用My....我就头大。
</code></pre>
<h3>6.多层for循环的时候，减少ijkl单字母变量的使用。</h3>
<pre><code>又是这个问题，一眼望去，i j k l，看的眼疼，for循环的时候能不能用 &quot;i_对象名&quot;，这种方式，看起来似乎更易懂点。
</code></pre>
<h3>7.还是说下代码段的分隔问题。</h3>
<ul>
<li>a.</li>
</ul>
<pre><code class="language-java">
    private static final int REQ_CATE_LIST=0X002A3;
    private static final int RES_CATE_LIST=0X00243;
    
    @ViewInject(R.id.txt_content)
    TextView txt_content;

    AppstoreCateModel cateTitleModel;

</code></pre>
<ul>
<li>b.</li>
</ul>
<pre><code class="language-java">
    private static final int REQ_CATE_LIST=0X002A3;
    private static final int RES_CATE_LIST=0X00243;
    @ViewInject(R.id.txt_content)
    TextView txt_content;
    AppstoreCateModel cateTitleModel;

</code></pre>
<pre><code>这点我就不多说了，自己看哪种更易读点。其实去分析一些开源框架的时候也会看到和上面的代码一致的代码，开源框架的代码分隔的也是很有规范性的。
</code></pre>
<h3>8.在写布局的的时候多用style，增加一些属性的重用，减少xml代码的行数。</h3>
<p>比如：</p>
<pre><code class="language-xml">&lt;!--TextView的例子：  --&gt;
	&lt;TextView
                    style=&quot;@style/font14_white_gray&quot;
                    android:id=&quot;@+id/txt_file_size&quot;
                    android:text=&quot;111M&quot; /&gt;

</code></pre>
<pre><code class="language-xml">&lt;!--引用的style：  --&gt;

    &lt;style name=&quot;font14_white_gray&quot; parent=&quot;font14&quot;&gt;
        &lt;item name=&quot;android:textColor&quot;&gt;@color/txt_white_gray&lt;/item&gt;
    &lt;/style&gt;
    
    &lt;style name=&quot;font14&quot;&gt;
        &lt;item name=&quot;android:layout_width&quot;&gt;wrap_content&lt;/item&gt;
        &lt;item name=&quot;android:layout_height&quot;&gt;wrap_content&lt;/item&gt;
        &lt;item name=&quot;android:textSize&quot;&gt;14sp&lt;/item&gt;
    &lt;/style&gt;
</code></pre>
<p>9.popupwindow需要在合适的情况下才能显示出来，不要在oncreate中直接显示。</p>
<pre><code>在act frag真正被show出来之后才能进行popupwindow的显示，否则会出现崩溃，因为popupwindow需要跟view进行连接，如果act frag没有显示出来就无法进行连接。  对于popupwindow dialog就会没有这个问题。	
</code></pre>
<h1></h1>
<h3>10.缩小变量的作用域。</h3>
<pre><code>如果在类的开始就声明了一堆的  mIsOpen ，mIsCanGotoHome，这些字段的话，导致你每次使用的时候都要去考虑他是否被改变过，还有判空，因为你不确定在你使用它的时候被更改了多少次，减少变量的作用域的做法：
赋值的时候才new出来，使用的时候直接调用，比如：
</code></pre>
<ul>
<li>a.这种用法 应该尽量减少</li>
</ul>
<pre><code class="language-java">class A
{
 
 boolean mIsOpen=false；
 onreate（）
 {
	mIsOpen=true;

 ...
 ...
 ...
 opt();
 }

opt()
{

	if(mIsOpen)
	{
		toast(&quot;打开&quot;);
	}
}

}

</code></pre>
<ul>
<li>b.尽量使用这种变量作用域较小的用法。</li>
</ul>
<pre><code class="language-java">class A
{
	onreate（）
	{
		opt(true);
	}

	opt(boolean mIsOpe)
	{
		if(mIsOpen)
		{
			toast(&quot;打开&quot;);
		}
	}

}

</code></pre>
<h3>11.尽量减少方法的参数个数。</h3>
<pre><code>既然上面6，这里提到了那个定义的那个方法，我就想提一下这个参数数量的问题，参数过多会导致阅读代码的困难，以及调用这个方法的时候也很困难。
</code></pre>
<h3>12.在部分手机上发生的问题，请先考虑api版本适配性的问题，其次再考虑ROM的问题，最后再考虑这个手机的问题。</h3>
<pre><code>出现部分手机适配的问题，不要都直接怪那个手机，不要怪定制rom，多多去考虑api版本的适配问题，很多情况下是我们自己的工作没有做到位，直接跟领导说这个问题是手机问题这样子是很不负责任的。
api 18上会有一些ui界面适配的问题，还有一些老的api 确实也会再ui上会有一些跑偏，但是那是整个api版本的所有手机都是这样子，不能单纯的说是那个手机的问题，卧槽，你能仔细解释下具体这个手机哪里与其他手机不同吗？ 
当然，实际开发中是会遇到一些确实是因为那个rom的问题导致的。但是，如果发现这个rom出现问题，那么整个品牌的大部分rom都是有问题的，比如：
华为的rom上 一些动效出不来的问题，确实是这样子，华为为了优化电量和性能，默认关闭了华为旗下部分手机品牌的 动效。 这个问题我们可以怪rom，但是这个不能怪手机，这种问题一般整个品牌的产品线都存在这个问题。
还有OOM问题，很多时候是程序员的内存消耗没把握好，每个手机的对单个app的内存限制是不同的，官方rom的话，单个app最大可申请内存较小，国产rom都把这个限制改大了。三星，moto，nexus系列都没有调大这个限制，所以一些机器上会OOM，但是这个问题绝对是程序员自身的问题，内存消耗应该尽量的小 ，才能适配更多的机器。
我们程序员对自己公司开发的软件出现的问题说话要负责。
</code></pre></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"slug":"android 开发中的好习惯","title":"android 开发中的好习惯.md","mdsource":"md/android 开发中的好习惯.md","date":" 2015/09/17 19:33:05","category":"几年后回看会觉得写的太烂"},"content":"title: android 开发中的好习惯\ndate: 2015/09/17 19:33:05\nupdated: 2015/10/29 18:39:57\ncategories:\n- 技术\n---\n### 1.被adapter所引用的数据源尽量使用final。\n\t\n\t一般写adapter的时候，其中的datalist，也就数据源，一般都没有在Adapter中进行new，而adapter只是在new 的时候通过自定义的构造方法传递进来，这里是引用了act或者frag中的一个datalist的地址。\n\t那么为了防止act中的datalist再被adapter引用之后重新赋值，要尽量设置为final，不设置final的话，在adapter被设置之后，你重新new datalist，就会导致adapter原来引用的地址还是旧的datalist，这里你只是改变了新的地址上的数据源，旧的还没变，就容易导致一些问题，加了final，会限制自己不会重新new这个datalist，这是一个非常好的习惯。\n\n\n### 2.if()后面一定要加{}，就算if只有一行也要加{}。\n\n\t这样仅仅是为了视觉，代码可读性增强。\n\n\n### 3.大括号{}中的代码也要尽量用空行的方法把逻辑类似的分割开来。\n\n\n\t我们都懂得拆分代码，方便测试，和阅读，但是有些不适合拆分的比如，大括号内{} 可能会有多行代码，但是这些行代码，逻辑上好像不方便再拆分，但是，如果判断和下面处理用空格隔开，还有假如return 这行代码跟前面的逻辑也隔开。或者是void的方法，一般里面有判断的几行代码，数据处理的几行代码，还有set的几行代码，判断，处理，和set的几行都用空格隔开的话，似乎代码的可读性大大的加强了。\n\n### 4.减少Thread的滥用。\n\t\n\t多用Timertask，还有线程池之类的，asynctask之类的很多很多好的东西，多去研究拿一种更加适合最好不过了。\n\n### 5.switch case  使用时，每个case  XXXX: 之后记得加{}。\n\n\t在这里加{}，跟if尾部加{}是一个意思。这样子不是为了别的，仅仅是为了增加代码的易读性，{}后面再换行写break，每次我看到case  XXXX：后面几行写一堆的代码然后直接跟break;我看代码的目的就是分析代码，没有括号我每次都要把break的分析，加到我的脑子里，这样我就要多记忆一行代码。\n\n\n###  6.多个参数的方法，记得每个参数都用一行。\n举个例子：\n\n\t下面同样是写代码我写了三种方法，代码都是一样的逻辑，参数都一样，我只是改了一些换行之类的你觉得那种更容易理解。\n\n+ a.\n``` java\n\tRequestUtils.requestGetInfo(ZLApplication.mZLApplication.getmNetWork(),getActivity(), handler, map, URLUtil.getServer()+ URLUtil.GET_APP_ADV, RES_ADV_INFO,false);\n\n```\n\n+  b.\n``` java\n\tRequestUtils.requestGetInfo(ZLApplication.mZLApplication.getmNetWork(),\n                        getActivity(), handler, map, URLUtil.getServer()\n                                + URLUtil.GET_APP_ADV, RES_ADV_INFO，false);\n\n```\n\n+ c.\n``` java\n\tRequestUtils.requestGetInfo(\n\t\t\tZLApplication.mZLApplication.getmNetWork(),\n\t\t\tgetActivity(), \n\t\t\tmap, \n\t\t\tURLUtil.getServer()+ URLUtil.GET_APP_ADV,\n\t\t\tRES_ADV_INFO,\n\t\t\tfalse\n\t\t\t);\n\n```\n\n\t很显然肯定是最后一种更加易读，abc种代码分别表示了三种不同的程序员。  \n\t当然这个方法不是我定义的，一个同事定义的，其中一些参数很多余，明显是有些是static 都穿进来了，写进方法内部去取不就行了还做的这个麻烦，地址居然还要自己拼，看了好烦的，那个参数竟然要用 “+”进行字符串拼接。\n\n###  4.不想让团队中的别人调用你所写的类的默认构造函数时，最好使用private 一下默认构造行数。\n\n\t比如 private ADVTool(){}，之后这个类的默认构造函数就被禁用了。虽然这个技巧用处不是很多，但是比你特么的写一堆的注释告诉别人的方式好，这样子就强制禁用默认构造函数了。\n\n### 5.方法命名还有一些action的命名尽量减少get set put的单词的使用。\n\n\t虽然，平时英语口语中get think 之类的词语可以表示很多词，说口语时很多时候都懒得用那些拗口的单词，直接就用get think代替everthing了。但是这他妈的是编程，你特么方法名给老子全是 get 老子看得懂你写的是个鸟啊？尽量找一些更合适的单词好不好，MD。  我看到一堆的方法命名还在用My....我就头大。\n\t\n### 6.多层for循环的时候，减少ijkl单字母变量的使用。\n\n\t又是这个问题，一眼望去，i j k l，看的眼疼，for循环的时候能不能用 \"i_对象名\"，这种方式，看起来似乎更易懂点。\n\n### 7.还是说下代码段的分隔问题。\n\n+ a.\n``` java\n\n    private static final int REQ_CATE_LIST=0X002A3;\n    private static final int RES_CATE_LIST=0X00243;\n    \n    @ViewInject(R.id.txt_content)\n    TextView txt_content;\n\n    AppstoreCateModel cateTitleModel;\n\n``` \n\n+ b.\n``` java\n\n    private static final int REQ_CATE_LIST=0X002A3;\n    private static final int RES_CATE_LIST=0X00243;\n    @ViewInject(R.id.txt_content)\n    TextView txt_content;\n    AppstoreCateModel cateTitleModel;\n\n``` \n\n\t这点我就不多说了，自己看哪种更易读点。其实去分析一些开源框架的时候也会看到和上面的代码一致的代码，开源框架的代码分隔的也是很有规范性的。\n\n### 8.在写布局的的时候多用style，增加一些属性的重用，减少xml代码的行数。\n比如：\n\n``` xml\n\u003c!--TextView的例子：  --\u003e\n\t\u003cTextView\n                    style=\"@style/font14_white_gray\"\n                    android:id=\"@+id/txt_file_size\"\n                    android:text=\"111M\" /\u003e\n\n```\n\t\n``` xml\n\u003c!--引用的style：  --\u003e\n\n    \u003cstyle name=\"font14_white_gray\" parent=\"font14\"\u003e\n        \u003citem name=\"android:textColor\"\u003e@color/txt_white_gray\u003c/item\u003e\n    \u003c/style\u003e\n    \n    \u003cstyle name=\"font14\"\u003e\n        \u003citem name=\"android:layout_width\"\u003ewrap_content\u003c/item\u003e\n        \u003citem name=\"android:layout_height\"\u003ewrap_content\u003c/item\u003e\n        \u003citem name=\"android:textSize\"\u003e14sp\u003c/item\u003e\n    \u003c/style\u003e\n```\n\n9.popupwindow需要在合适的情况下才能显示出来，不要在oncreate中直接显示。\n\n\t在act frag真正被show出来之后才能进行popupwindow的显示，否则会出现崩溃，因为popupwindow需要跟view进行连接，如果act frag没有显示出来就无法进行连接。  对于popupwindow dialog就会没有这个问题。\t\n# \n\n### 10.缩小变量的作用域。\n\n\t如果在类的开始就声明了一堆的  mIsOpen ，mIsCanGotoHome，这些字段的话，导致你每次使用的时候都要去考虑他是否被改变过，还有判空，因为你不确定在你使用它的时候被更改了多少次，减少变量的作用域的做法：\n\t赋值的时候才new出来，使用的时候直接调用，比如：\n\n\n\n- a.这种用法 应该尽量减少\n``` java \nclass A\n{\n \n boolean mIsOpen=false；\n onreate（）\n {\n\tmIsOpen=true;\n\n ...\n ...\n ...\n opt();\n }\n\nopt()\n{\n\n\tif(mIsOpen)\n\t{\n\t\ttoast(\"打开\");\n\t}\n}\n\n}\n\n```\n\n- b.尽量使用这种变量作用域较小的用法。\n``` java \nclass A\n{\n\tonreate（）\n\t{\n\t\topt(true);\n\t}\n\n\topt(boolean mIsOpe)\n\t{\n\t\tif(mIsOpen)\n\t\t{\n\t\t\ttoast(\"打开\");\n\t\t}\n\t}\n\n}\n\n```\n\n\n### 11.尽量减少方法的参数个数。\n\n\t既然上面6，这里提到了那个定义的那个方法，我就想提一下这个参数数量的问题，参数过多会导致阅读代码的困难，以及调用这个方法的时候也很困难。\n\n\n\n### 12.在部分手机上发生的问题，请先考虑api版本适配性的问题，其次再考虑ROM的问题，最后再考虑这个手机的问题。\n\t\n\t出现部分手机适配的问题，不要都直接怪那个手机，不要怪定制rom，多多去考虑api版本的适配问题，很多情况下是我们自己的工作没有做到位，直接跟领导说这个问题是手机问题这样子是很不负责任的。\n\tapi 18上会有一些ui界面适配的问题，还有一些老的api 确实也会再ui上会有一些跑偏，但是那是整个api版本的所有手机都是这样子，不能单纯的说是那个手机的问题，卧槽，你能仔细解释下具体这个手机哪里与其他手机不同吗？ \n\t当然，实际开发中是会遇到一些确实是因为那个rom的问题导致的。但是，如果发现这个rom出现问题，那么整个品牌的大部分rom都是有问题的，比如：\n\t华为的rom上 一些动效出不来的问题，确实是这样子，华为为了优化电量和性能，默认关闭了华为旗下部分手机品牌的 动效。 这个问题我们可以怪rom，但是这个不能怪手机，这种问题一般整个品牌的产品线都存在这个问题。\n\t还有OOM问题，很多时候是程序员的内存消耗没把握好，每个手机的对单个app的内存限制是不同的，官方rom的话，单个app最大可申请内存较小，国产rom都把这个限制改大了。三星，moto，nexus系列都没有调大这个限制，所以一些机器上会OOM，但是这个问题绝对是程序员自身的问题，内存消耗应该尽量的小 ，才能适配更多的机器。\n\t我们程序员对自己公司开发的软件出现的问题说话要负责。\n\n\n","lang":"cn"},"__N_SSG":true},"page":"/[lang]/blog/[slug]","query":{"lang":"cn","slug":"android 开发中的好习惯"},"buildId":"zaycUZ6jvMLykcBwRP9wT","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>