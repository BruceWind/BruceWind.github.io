<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="initial-scale=1, width=device-width"/><meta name="emotion-insertion-point" content=""/><title>把Ubuntu安装到U盘中遇到的问题.md<!-- --> - BruceWind&#x27;s Blog</title><meta name="description" content="把Ubuntu安装到U盘中遇到的问题.md - 几年后回看会觉得写的太烂"/><meta property="og:title" content="把Ubuntu安装到U盘中遇到的问题.md"/><meta property="og:type" content="article"/><meta property="article:published_time" content=" 2016/04/07 20:20:15"/><meta name="next-head-count" content="8"/><meta charSet="utf-8"/><meta name="keywords" content="NDK,JNI,Android Dev,android,androidyuan,性能优化,Linux,developer"/><meta name="description" content="BruceWind&#x27;s personal blog - Android development, Linux, and more."/><meta name="robots" content="index,follow"/><meta name="google" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="author" content="bruce"/><link rel="icon" href="/favicon.ico"/><meta name="theme-color" content="#000000"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-LGE1LT9YJG"></script><script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());
                gtag('config', 'G-LGE1LT9YJG');
              </script><style data-emotion="mui-style-global o6gwfi">html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;box-sizing:border-box;-webkit-text-size-adjust:100%;}*,*::before,*::after{box-sizing:inherit;}strong,b{font-weight:700;}body{margin:0;color:rgba(0, 0, 0, 0.87);font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;background-color:#fff;}@media print{body{background-color:#fff;}}body::backdrop{background-color:#fff;}</style><style data-emotion="mui-style 17ro72p 1cp6o32 79elbk 1qo0fs4 1uf4bbi 1m9pwf3 19gndve 1ju1kxc k1u9gz 6xugel vubbuv gtvj52 1x1vlev vax71z">.mui-style-17ro72p{width:100%;min-height:100vh;background-color:#fff;padding:16px;}.mui-style-1cp6o32{background-color:#fff;color:rgba(0, 0, 0, 0.87);-webkit-transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;border-radius:4px;box-shadow:0px 3px 3px -2px rgba(0,0,0,0.2),0px 3px 4px 0px rgba(0,0,0,0.14),0px 1px 8px 0px rgba(0,0,0,0.12);padding:24px;}.mui-style-79elbk{position:relative;}.mui-style-1qo0fs4{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;width:58px;height:38px;overflow:hidden;padding:12px;box-sizing:border-box;position:relative;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;z-index:0;vertical-align:middle;width:62px;height:34px;padding:7px;margin:8px;}@media print{.mui-style-1qo0fs4{-webkit-print-color-adjust:exact;color-adjust:exact;}}.mui-style-1qo0fs4 .MuiSwitch-switchBase{margin:1px;padding:0;-webkit-transform:translateX(6px);-moz-transform:translateX(6px);-ms-transform:translateX(6px);transform:translateX(6px);}.mui-style-1qo0fs4 .MuiSwitch-switchBase.Mui-checked{color:#fff;-webkit-transform:translateX(22px);-moz-transform:translateX(22px);-ms-transform:translateX(22px);transform:translateX(22px);}.mui-style-1qo0fs4 .MuiSwitch-switchBase.Mui-checked .MuiSwitch-thumb:before{background-image:url('data:image/svg+xml;utf8,<?xml version="1.0" ?><svg height="20" width="20" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g><path d="M0 0h24v24H0z" fill="none"/><path fill="white" d="M12 19a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm-5.5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm11 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zM13 2v2h6v2h-1.968a18.222 18.222 0 0 1-3.621 6.302 14.685 14.685 0 0 0 5.327 3.042l-.536 1.93A16.685 16.685 0 0 1 12 13.726a16.696 16.696 0 0 1-6.202 3.547l-.536-1.929a14.7 14.7 0 0 0 5.327-3.042 18.077 18.077 0 0 1-2.822-4.3h2.24A16.031 16.031 0 0 0 12 10.876a16.168 16.168 0 0 0 2.91-4.876L5 6V4h6V2h2z"/></g></svg>');}.mui-style-1qo0fs4 .MuiSwitch-switchBase.Mui-checked+.MuiSwitch-track{opacity:1;background-color:#aab4be;}.mui-style-1qo0fs4 .MuiSwitch-thumb{background-color:#001e3c;width:32px;height:32px;}.mui-style-1qo0fs4 .MuiSwitch-thumb:before{content:'';position:absolute;width:100%;height:100%;left:0;top:0;background-repeat:no-repeat;-webkit-background-position:center;background-position:center;background-image:url('data:image/svg+xml;utf8,<?xml version="1.0" ?><svg height="20" width="20" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none" /><path fill="white" d="M14 10h2v.757a4.5 4.5 0 0 1 7 3.743V20h-2v-5.5c0-1.43-1.175-2.5-2.5-2.5S16 13.07 16 14.5V20h-2V10zm-2-6v2H4v5h8v2H4v5h8v2H2V4h10z"/></svg>');}.mui-style-1qo0fs4 .MuiSwitch-track{opacity:1;background-color:#aab4be;border-radius:10px;}.mui-style-1uf4bbi{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;padding:9px;border-radius:50%;position:absolute;top:0;left:0;z-index:1;color:#fff;-webkit-transition:left 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,-webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:left 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,transform 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;}.mui-style-1uf4bbi::-moz-focus-inner{border-style:none;}.mui-style-1uf4bbi.Mui-disabled{pointer-events:none;cursor:default;}@media print{.mui-style-1uf4bbi{-webkit-print-color-adjust:exact;color-adjust:exact;}}.mui-style-1uf4bbi.Mui-checked{-webkit-transform:translateX(20px);-moz-transform:translateX(20px);-ms-transform:translateX(20px);transform:translateX(20px);}.mui-style-1uf4bbi.Mui-disabled{color:#f5f5f5;}.mui-style-1uf4bbi.Mui-checked+.MuiSwitch-track{opacity:0.5;}.mui-style-1uf4bbi.Mui-disabled+.MuiSwitch-track{opacity:0.12;}.mui-style-1uf4bbi .MuiSwitch-input{left:-100%;width:300%;}.mui-style-1uf4bbi:hover{background-color:rgba(0, 0, 0, 0.04);}@media (hover: none){.mui-style-1uf4bbi:hover{background-color:transparent;}}.mui-style-1uf4bbi.Mui-checked{color:#1976d2;}.mui-style-1uf4bbi.Mui-checked:hover{background-color:rgba(25, 118, 210, 0.04);}@media (hover: none){.mui-style-1uf4bbi.Mui-checked:hover{background-color:transparent;}}.mui-style-1uf4bbi.Mui-checked.Mui-disabled{color:rgb(167, 202, 237);}.mui-style-1uf4bbi.Mui-checked+.MuiSwitch-track{background-color:#1976d2;}.mui-style-1m9pwf3{cursor:inherit;position:absolute;opacity:0;width:100%;height:100%;top:0;left:0;margin:0;padding:0;z-index:1;}.mui-style-19gndve{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);background-color:currentColor;width:20px;height:20px;border-radius:50%;}.mui-style-1ju1kxc{height:100%;width:100%;border-radius:7px;z-index:-1;-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;background-color:#000;opacity:0.38;}.mui-style-k1u9gz{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:500;font-size:0.875rem;line-height:1.75;letter-spacing:0.02857em;text-transform:uppercase;min-width:64px;padding:6px 8px;border-radius:4px;-webkit-transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;color:#1976d2;margin-bottom:16px;}.mui-style-k1u9gz::-moz-focus-inner{border-style:none;}.mui-style-k1u9gz.Mui-disabled{pointer-events:none;cursor:default;}@media print{.mui-style-k1u9gz{-webkit-print-color-adjust:exact;color-adjust:exact;}}.mui-style-k1u9gz:hover{-webkit-text-decoration:none;text-decoration:none;background-color:rgba(25, 118, 210, 0.04);}@media (hover: none){.mui-style-k1u9gz:hover{background-color:transparent;}}.mui-style-k1u9gz.Mui-disabled{color:rgba(0, 0, 0, 0.26);}.mui-style-6xugel{display:inherit;margin-right:8px;margin-left:-4px;}.mui-style-6xugel>*:nth-of-type(1){font-size:20px;}.mui-style-vubbuv{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:1em;height:1em;display:inline-block;fill:currentColor;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;font-size:1.5rem;}.mui-style-gtvj52{margin:0;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:2.125rem;line-height:1.235;letter-spacing:0.00735em;margin-bottom:0.35em;}.mui-style-1x1vlev{margin:0;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:0.875rem;line-height:1.43;letter-spacing:0.01071em;margin-bottom:0.35em;color:rgba(0, 0, 0, 0.6);}.mui-style-vax71z{margin:0;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;border-width:0;border-style:solid;border-color:rgba(0, 0, 0, 0.12);border-bottom-width:thin;margin-top:16px;margin-bottom:16px;}</style><link rel="preload" href="/_next/static/css/345ff263c1768dbb.css" as="style"/><link rel="stylesheet" href="/_next/static/css/345ff263c1768dbb.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-6ef43a8d4a395f49.js" defer=""></script><script src="/_next/static/chunks/framework-64ad27b21261a9ce.js" defer=""></script><script src="/_next/static/chunks/main-5b2299ded1a46c83.js" defer=""></script><script src="/_next/static/chunks/pages/_app-4f0aaa3a6ba99024.js" defer=""></script><script src="/_next/static/chunks/34-75ae01f5fa578a9a.js" defer=""></script><script src="/_next/static/chunks/995-1a3bc1a098c2d99b.js" defer=""></script><script src="/_next/static/chunks/771-6a778ea1fc3e748f.js" defer=""></script><script src="/_next/static/chunks/pages/%5Blang%5D/blog/%5Bslug%5D-e6dc13f92e5951fe.js" defer=""></script><script src="/_next/static/6yQ4Eq8ioydqKhi_Yja0Q/_buildManifest.js" defer=""></script><script src="/_next/static/6yQ4Eq8ioydqKhi_Yja0Q/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="MuiBox-root mui-style-17ro72p"><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation3 mui-style-1cp6o32"><div class="MuiBox-root mui-style-79elbk"><div style="position:absolute;top:22px;right:15px;height:100px;z-index:1300"><span class="MuiSwitch-root MuiSwitch-sizeMedium mui-style-1qo0fs4"><span class="MuiButtonBase-root MuiSwitch-switchBase MuiSwitch-colorPrimary Mui-checked PrivateSwitchBase-root MuiSwitch-switchBase MuiSwitch-colorPrimary Mui-checked Mui-checked mui-style-1uf4bbi"><input class="PrivateSwitchBase-input MuiSwitch-input mui-style-1m9pwf3" type="checkbox" checked=""/><span class="MuiSwitch-thumb mui-style-19gndve"></span></span><span class="MuiSwitch-track mui-style-1ju1kxc"></span></span></div><a class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary mui-style-k1u9gz" tabindex="0" href="/cn/"><span class="MuiButton-icon MuiButton-startIcon MuiButton-iconSizeMedium mui-style-6xugel"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-style-vubbuv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ArrowBackIcon"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"></path></svg></span>返回列表</a><h1 class="MuiTypography-root MuiTypography-h4 MuiTypography-gutterBottom mui-style-gtvj52">把Ubuntu安装到U盘中遇到的问题.md</h1><p class="MuiTypography-root MuiTypography-body2 MuiTypography-gutterBottom mui-style-1x1vlev">几年后回看会觉得写的太烂<!-- --> | <!-- --> 2016/04/07 20:20:15</p><hr class="MuiDivider-root MuiDivider-fullWidth mui-style-vax71z"/><div class="markdown-body"><p>title: 把Ubuntu安装到U盘中遇到的问题
date: 2016/04/07 20:20:15
updated: 2017/02/08 23:40:51
categories:</p>
<ul>
<li>技术</li>
</ul>
<hr/>
<pre><code>如果您通过搜索引擎搜索到此文，注意，请本文不是说怎么用U盘给电脑安装ubuntu，是把系统安装在U盘里，U盘就是我的电脑。
</code></pre>
<p>U盘中安装好ubuntu，由于是初次尝试，总是各种问题
首先U盘是单通道的闪存盘，由于单通道的问题，就像window那种，在windows下往外接移动存储设备拷贝大文件时会出现机器明显的卡顿的问题，明显这个问题，就是硬盘繁忙，IO性能消耗过高的问题。</p>
<h1></h1>
<h2>1.io流读写过高的问题</h2>
<p>这个问题很严重，导致机器会卡死20秒左右。非常非常的严重了。
首先，我考虑到Swap对U盘IO的影响，我直接设置了Swap的使用优先级，设置了之后就没有在出现卡顿超过三秒的情况。
详细解决方案请参考我的另外一片blog，<a href="http://androidyuan.com/post/ubuntu%E4%BF%AE%E6%94%B9%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98%E4%BD%BF%E7%94%A8%E9%87%8F">链接在此，点我跳转</a>。</p>
<p>上面是关闭了ubuntu的虚拟内存，然后我发现chromium启动的时候会有明显的卡顿2秒左右，后来查询了下资料，chromium这种浏览器一般缓存机制都是自己定义的，需要手动去关闭这个程序的缓存，使用命令</p>
<pre><code class="language-shell">cd  /user/share/applications/
sudo gedit chromium-browser.desktop
</code></pre>
<p>在 <code>Exec=chromium-browser %U </code>这行代码后，添加<code>-disable-local-storage</code>。
即可关闭chromium的硬盘缓存。</p>
<h1></h1>
<p>其实，主要是因为U盘的主控芯片是三星的一个比较垃圾的主控，这个主控，IO读写是单通道的，没办法，多个程序去读写就会发生IO繁忙的情况。三星也是要考虑到U盘尺寸的问题，想要把U盘做的更小总要牺牲芯片的性能。</p>
<h1></h1>
<p>可以预测，如果把ubuntu安装到CZ88的话，就会很快的，那个U盘的主控就不在是单通道的了。但是为什么我用CZ88,因为那个太长了，插在电脑上非常不方便电脑的移动。相信以后U盘厂商还是可以做的这么小的同时读写也是多通道的。但是目前，我用三星的那个小U盘已经几乎满足我的开发需求，目前已经鲜有卡顿问题。</p>
<h1></h1>
<h2>2.在mac上也遇到了网卡驱动的问题</h2>
<p>无法驱动无线网卡，我用命令行读取了硬件的型号，是博通的无线网卡，打开<code>新立得软件包</code>搜索<code>bcm</code>，搜到了博通的网卡驱动，安装下即可，安装好后，mac无线网卡也工作了，换了一台thinkpad后，ubuntu也会自动切换驱动，所以这个根本不是问题。
或者先下载无线驱动，然后再U盘拷贝进来用 <code>dpkg -i  filename</code>来安装。<strong>下载地址：</strong>
<a href="http://packages.ubuntu.com/trusty/amd64/bcmwl-kernel-source/download">http://packages.ubuntu.com/trusty/amd64/bcmwl-kernel-source/download</a></p>
<h2>3.各个品牌电脑的boot menu 按键</h2>
<table class="tableizer-table"><thead><tr class="tableizer-firstrow"><th>组装机主板</th><th> </th><th>品牌笔记本</th><th> </th><th>品牌台式机</th><th> </th></tr></thead><tbody><tr><td>主板品牌</td><td>启动按键</td><td>笔记本品牌</td><td>启动按钮</td><td>台式机品牌</td><td>F12</td></tr><tr><td>华硕主板</td><td>F8</td><td>联想笔记本</td><td>F12</td><td>联想台式机</td><td>F12</td></tr><tr><td>技嘉主板</td><td>F12</td><td>宏基笔记本</td><td>F12</td><td>惠普台式机</td><td>F12</td></tr><tr><td>微星主板</td><td>F11</td><td>华硕笔记本</td><td>ESC</td><td>宏基台式机</td><td>ESC</td></tr><tr><td>映泰主板</td><td>F9</td><td>惠普笔记本</td><td>F9</td><td>戴尔台式机</td><td>F12</td></tr><tr><td>梅捷主板</td><td>ESC或F12</td><td>联想Thinkpad</td><td>F12</td><td>神舟台式机</td><td>F8</td></tr><tr><td>七彩虹主板</td><td>ESC或F11</td><td>戴尔笔记本</td><td>F12</td><td>华硕台式机</td><td>F12</td></tr><tr><td>华擎主板</td><td>F11</td><td>神舟笔记本</td><td>F12</td><td>方正台式机</td><td>F12</td></tr><tr><td>斯巴达卡主板</td><td>ESC</td><td>东芝笔记本</td><td>F12</td><td>清华同方台式机</td><td>F12</td></tr><tr><td>昂达主板</td><td>F10</td><td>三星笔记本</td><td>F12</td><td>海尔台式机</td><td>F12</td></tr><tr><td>双敏主板</td><td>ESC或F11</td><td>IBM笔记本</td><td>F12</td><td>明基台式机</td><td>F8</td></tr><tr><td>翔升主板</td><td>F11或F12</td><td>富士通笔记本</td><td>F12</td><td> </td><td> </td></tr><tr><td>精英主板</td><td>ESC或F11</td><td>海尔笔记本</td><td>F12</td><td> </td><td> </td></tr><tr><td>冠盟主板</td><td>F11或F12</td><td>方正笔记本</td><td>F12</td><td> </td><td> </td></tr><tr><td>富士康主板</td><td>ESC或F12</td><td>清华同方笔记本</td><td>F12</td><td> </td><td> </td></tr><tr><td>顶星主板</td><td>F11或F12</td><td>微星笔记本</td><td>F11</td><td> </td><td> </td></tr><tr><td>铭瑄主板</td><td>ESC</td><td>明基笔记本</td><td>F9</td><td> </td><td> </td></tr><tr><td>盈通主板</td><td>F8</td><td>技嘉笔记本</td><td>F12</td><td> </td><td> </td></tr><tr><td>捷波主板</td><td>ESC</td><td>Gateway笔记本</td><td>F12</td><td> </td><td> </td></tr><tr><td>Intel主板</td><td>F12</td><td>eMachines笔记本</td><td>F12</td><td> </td><td> </td></tr><tr><td>杰微主板</td><td>ESC或F8</td><td>索尼笔记本</td><td>ESC</td><td> </td><td> </td></tr><tr><td>致铭主板</td><td>F12</td><td> </td><td> </td><td> </td><td> </td></tr><tr><td>磐英主板</td><td>ESC</td><td> </td><td> </td><td> </td><td> </td></tr><tr><td>磐正主板</td><td>ESC</td><td> </td><td> </td><td> </td><td> </td></tr><tr><td>冠铭主板</td><td>F9</td><td> </td><td> </td><td> </td><td></td></tr></tbody></table>
<p>PS: 苹果电脑：option按键。</p>
<h1></h1>
<p>不管mac还是PC，开机前，插上U盘，按住boot menu 键不松开，再按一下开机键，到选择界面即可。</p>
<h1></h1>
<hr/>
<p>这篇博客和另外两篇博客都是在mac上使用U盘中的ubuntu写的，几乎毫无卡顿问题。</p></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"slug":"把Ubuntu安装到U盘中遇到的问题","title":"把Ubuntu安装到U盘中遇到的问题.md","mdsource":"md/把Ubuntu安装到U盘中遇到的问题.md","date":" 2016/04/07 20:20:15","category":"几年后回看会觉得写的太烂"},"content":"title: 把Ubuntu安装到U盘中遇到的问题\ndate: 2016/04/07 20:20:15\nupdated: 2017/02/08 23:40:51\ncategories:\n- 技术\n---\n   \n    如果您通过搜索引擎搜索到此文，注意，请本文不是说怎么用U盘给电脑安装ubuntu，是把系统安装在U盘里，U盘就是我的电脑。\n    \nU盘中安装好ubuntu，由于是初次尝试，总是各种问题\n首先U盘是单通道的闪存盘，由于单通道的问题，就像window那种，在windows下往外接移动存储设备拷贝大文件时会出现机器明显的卡顿的问题，明显这个问题，就是硬盘繁忙，IO性能消耗过高的问题。\n# \n## 1.io流读写过高的问题\n这个问题很严重，导致机器会卡死20秒左右。非常非常的严重了。\n首先，我考虑到Swap对U盘IO的影响，我直接设置了Swap的使用优先级，设置了之后就没有在出现卡顿超过三秒的情况。\n详细解决方案请参考我的另外一片blog，[链接在此，点我跳转](http://androidyuan.com/post/ubuntu%E4%BF%AE%E6%94%B9%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98%E4%BD%BF%E7%94%A8%E9%87%8F)。\n\n上面是关闭了ubuntu的虚拟内存，然后我发现chromium启动的时候会有明显的卡顿2秒左右，后来查询了下资料，chromium这种浏览器一般缓存机制都是自己定义的，需要手动去关闭这个程序的缓存，使用命令\n``` shell\ncd  /user/share/applications/\nsudo gedit chromium-browser.desktop\n```\n在 `Exec=chromium-browser %U `这行代码后，添加`-disable-local-storage`。\n即可关闭chromium的硬盘缓存。\n# \n其实，主要是因为U盘的主控芯片是三星的一个比较垃圾的主控，这个主控，IO读写是单通道的，没办法，多个程序去读写就会发生IO繁忙的情况。三星也是要考虑到U盘尺寸的问题，想要把U盘做的更小总要牺牲芯片的性能。\n# \n可以预测，如果把ubuntu安装到CZ88的话，就会很快的，那个U盘的主控就不在是单通道的了。但是为什么我用CZ88,因为那个太长了，插在电脑上非常不方便电脑的移动。相信以后U盘厂商还是可以做的这么小的同时读写也是多通道的。但是目前，我用三星的那个小U盘已经几乎满足我的开发需求，目前已经鲜有卡顿问题。\n# \n## 2.在mac上也遇到了网卡驱动的问题\n无法驱动无线网卡，我用命令行读取了硬件的型号，是博通的无线网卡，打开`新立得软件包`搜索`bcm`，搜到了博通的网卡驱动，安装下即可，安装好后，mac无线网卡也工作了，换了一台thinkpad后，ubuntu也会自动切换驱动，所以这个根本不是问题。\n或者先下载无线驱动，然后再U盘拷贝进来用 `dpkg -i  filename`来安装。**下载地址：**\n[http://packages.ubuntu.com/trusty/amd64/bcmwl-kernel-source/download](http://packages.ubuntu.com/trusty/amd64/bcmwl-kernel-source/download)\n\n##  3.各个品牌电脑的boot menu 按键\n\n\u003ctable class=\"tableizer-table\"\u003e\n\u003cthead\u003e\u003ctr class=\"tableizer-firstrow\"\u003e\u003cth\u003e组装机主板\u003c/th\u003e\u003cth\u003e\u0026nbsp;\u003c/th\u003e\u003cth\u003e品牌笔记本\u003c/th\u003e\u003cth\u003e\u0026nbsp;\u003c/th\u003e\u003cth\u003e品牌台式机\u003c/th\u003e\u003cth\u003e\u0026nbsp;\u003c/th\u003e\u003c/tr\u003e\u003c/thead\u003e\u003ctbody\u003e\n \u003ctr\u003e\u003ctd\u003e主板品牌\u003c/td\u003e\u003ctd\u003e启动按键\u003c/td\u003e\u003ctd\u003e笔记本品牌\u003c/td\u003e\u003ctd\u003e启动按钮\u003c/td\u003e\u003ctd\u003e台式机品牌\u003c/td\u003e\u003ctd\u003eF12\u003c/td\u003e\u003c/tr\u003e\n \u003ctr\u003e\u003ctd\u003e华硕主板\u003c/td\u003e\u003ctd\u003eF8\u003c/td\u003e\u003ctd\u003e联想笔记本\u003c/td\u003e\u003ctd\u003eF12\u003c/td\u003e\u003ctd\u003e联想台式机\u003c/td\u003e\u003ctd\u003eF12\u003c/td\u003e\u003c/tr\u003e\n \u003ctr\u003e\u003ctd\u003e技嘉主板\u003c/td\u003e\u003ctd\u003eF12\u003c/td\u003e\u003ctd\u003e宏基笔记本\u003c/td\u003e\u003ctd\u003eF12\u003c/td\u003e\u003ctd\u003e惠普台式机\u003c/td\u003e\u003ctd\u003eF12\u003c/td\u003e\u003c/tr\u003e\n \u003ctr\u003e\u003ctd\u003e微星主板\u003c/td\u003e\u003ctd\u003eF11\u003c/td\u003e\u003ctd\u003e华硕笔记本\u003c/td\u003e\u003ctd\u003eESC\u003c/td\u003e\u003ctd\u003e宏基台式机\u003c/td\u003e\u003ctd\u003eESC\u003c/td\u003e\u003c/tr\u003e\n \u003ctr\u003e\u003ctd\u003e映泰主板\u003c/td\u003e\u003ctd\u003eF9\u003c/td\u003e\u003ctd\u003e惠普笔记本\u003c/td\u003e\u003ctd\u003eF9\u003c/td\u003e\u003ctd\u003e戴尔台式机\u003c/td\u003e\u003ctd\u003eF12\u003c/td\u003e\u003c/tr\u003e\n \u003ctr\u003e\u003ctd\u003e梅捷主板\u003c/td\u003e\u003ctd\u003eESC或F12\u003c/td\u003e\u003ctd\u003e联想Thinkpad\u003c/td\u003e\u003ctd\u003eF12\u003c/td\u003e\u003ctd\u003e神舟台式机\u003c/td\u003e\u003ctd\u003eF8\u003c/td\u003e\u003c/tr\u003e\n \u003ctr\u003e\u003ctd\u003e七彩虹主板\u003c/td\u003e\u003ctd\u003eESC或F11\u003c/td\u003e\u003ctd\u003e戴尔笔记本\u003c/td\u003e\u003ctd\u003eF12\u003c/td\u003e\u003ctd\u003e华硕台式机\u003c/td\u003e\u003ctd\u003eF12\u003c/td\u003e\u003c/tr\u003e\n \u003ctr\u003e\u003ctd\u003e华擎主板\u003c/td\u003e\u003ctd\u003eF11\u003c/td\u003e\u003ctd\u003e神舟笔记本\u003c/td\u003e\u003ctd\u003eF12\u003c/td\u003e\u003ctd\u003e方正台式机\u003c/td\u003e\u003ctd\u003eF12\u003c/td\u003e\u003c/tr\u003e\n \u003ctr\u003e\u003ctd\u003e斯巴达卡主板\u003c/td\u003e\u003ctd\u003eESC\u003c/td\u003e\u003ctd\u003e东芝笔记本\u003c/td\u003e\u003ctd\u003eF12\u003c/td\u003e\u003ctd\u003e清华同方台式机\u003c/td\u003e\u003ctd\u003eF12\u003c/td\u003e\u003c/tr\u003e\n \u003ctr\u003e\u003ctd\u003e昂达主板\u003c/td\u003e\u003ctd\u003eF10\u003c/td\u003e\u003ctd\u003e三星笔记本\u003c/td\u003e\u003ctd\u003eF12\u003c/td\u003e\u003ctd\u003e海尔台式机\u003c/td\u003e\u003ctd\u003eF12\u003c/td\u003e\u003c/tr\u003e\n \u003ctr\u003e\u003ctd\u003e双敏主板\u003c/td\u003e\u003ctd\u003eESC或F11\u003c/td\u003e\u003ctd\u003eIBM笔记本\u003c/td\u003e\u003ctd\u003eF12\u003c/td\u003e\u003ctd\u003e明基台式机\u003c/td\u003e\u003ctd\u003eF8\u003c/td\u003e\u003c/tr\u003e\n \u003ctr\u003e\u003ctd\u003e翔升主板\u003c/td\u003e\u003ctd\u003eF11或F12\u003c/td\u003e\u003ctd\u003e富士通笔记本\u003c/td\u003e\u003ctd\u003eF12\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003c/tr\u003e\n \u003ctr\u003e\u003ctd\u003e精英主板\u003c/td\u003e\u003ctd\u003eESC或F11\u003c/td\u003e\u003ctd\u003e海尔笔记本\u003c/td\u003e\u003ctd\u003eF12\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003c/tr\u003e\n \u003ctr\u003e\u003ctd\u003e冠盟主板\u003c/td\u003e\u003ctd\u003eF11或F12\u003c/td\u003e\u003ctd\u003e方正笔记本\u003c/td\u003e\u003ctd\u003eF12\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003c/tr\u003e\n \u003ctr\u003e\u003ctd\u003e富士康主板\u003c/td\u003e\u003ctd\u003eESC或F12\u003c/td\u003e\u003ctd\u003e清华同方笔记本\u003c/td\u003e\u003ctd\u003eF12\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003c/tr\u003e\n \u003ctr\u003e\u003ctd\u003e顶星主板\u003c/td\u003e\u003ctd\u003eF11或F12\u003c/td\u003e\u003ctd\u003e微星笔记本\u003c/td\u003e\u003ctd\u003eF11\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003c/tr\u003e\n \u003ctr\u003e\u003ctd\u003e铭瑄主板\u003c/td\u003e\u003ctd\u003eESC\u003c/td\u003e\u003ctd\u003e明基笔记本\u003c/td\u003e\u003ctd\u003eF9\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003c/tr\u003e\n \u003ctr\u003e\u003ctd\u003e盈通主板\u003c/td\u003e\u003ctd\u003eF8\u003c/td\u003e\u003ctd\u003e技嘉笔记本\u003c/td\u003e\u003ctd\u003eF12\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003c/tr\u003e\n \u003ctr\u003e\u003ctd\u003e捷波主板\u003c/td\u003e\u003ctd\u003eESC\u003c/td\u003e\u003ctd\u003eGateway笔记本\u003c/td\u003e\u003ctd\u003eF12\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003c/tr\u003e\n \u003ctr\u003e\u003ctd\u003eIntel主板\u003c/td\u003e\u003ctd\u003eF12\u003c/td\u003e\u003ctd\u003eeMachines笔记本\u003c/td\u003e\u003ctd\u003eF12\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003c/tr\u003e\n \u003ctr\u003e\u003ctd\u003e杰微主板\u003c/td\u003e\u003ctd\u003eESC或F8\u003c/td\u003e\u003ctd\u003e索尼笔记本\u003c/td\u003e\u003ctd\u003eESC\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003c/tr\u003e\n \u003ctr\u003e\u003ctd\u003e致铭主板\u003c/td\u003e\u003ctd\u003eF12\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003c/tr\u003e\n \u003ctr\u003e\u003ctd\u003e磐英主板\u003c/td\u003e\u003ctd\u003eESC\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003c/tr\u003e\n \u003ctr\u003e\u003ctd\u003e磐正主板\u003c/td\u003e\u003ctd\u003eESC\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003c/tr\u003e\n \u003ctr\u003e\u003ctd\u003e冠铭主板\u003c/td\u003e\u003ctd\u003eF9\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u003c/td\u003e\u003ctd\u003e\u003c/td\u003e\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\n\n\nPS: 苹果电脑：option按键。\n# \n不管mac还是PC，开机前，插上U盘，按住boot menu 键不松开，再按一下开机键，到选择界面即可。\n\n# \n---------------------------\n\n这篇博客和另外两篇博客都是在mac上使用U盘中的ubuntu写的，几乎毫无卡顿问题。","lang":"cn"},"__N_SSG":true},"page":"/[lang]/blog/[slug]","query":{"lang":"cn","slug":"把Ubuntu安装到U盘中遇到的问题"},"buildId":"6yQ4Eq8ioydqKhi_Yja0Q","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>